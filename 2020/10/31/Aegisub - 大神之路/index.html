<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Aegisub - 大神之路 | K-S-Y</title>
  <meta name="keywords" content=" Aegisub ">
  <meta name="description" content="Aegisub - 大神之路 | K-S-Y">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="记录各种坑">
<meta property="og:type" content="website">
<meta property="og:title" content="分类">
<meta property="og:url" content="https://blog.kysdm.com/categories/index.html">
<meta property="og:site_name" content="K-S-Y">
<meta property="og:description" content="记录各种坑">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-10-31T13:23:08.000Z">
<meta property="article:modified_time" content="2020-10-31T13:31:23.634Z">
<meta property="article:author" content="kysdm">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/github.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.4.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>kysdm</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:gxk7231#gmail.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(5)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="Aegisub">
                        
                        Aegisub
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Linux">
                        
                        Linux
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Vtuber">
                        
                        Vtuber
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="5">
<input type="hidden" id="yelog_site_word_count" value="23.6k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>独立服务器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Aegisub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Debain</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Kagura Nana</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Speedtest</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vtuber</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="全部文章 Vtuber "
           href="/2020/12/15/Kagura%20Nana-%E2%86%91%E2%86%91%E2%86%91/"
           data-tag="Vtuber,Kagura Nana"
           data-author="" >
            <span class="post-title" title="Kagura Nana ↑↑↑">Kagura Nana ↑↑↑</span>
            <span class="post-date" title="2020-12-15 19:35:40">2020/12/15</span>
        </a>
        
        <a  class="全部文章 Linux "
           href="/2020/11/14/OneProvider%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E8%BF%87odhcp6%E9%85%8D%E7%BD%AEipv6/"
           data-tag="Debain,Linux,独立服务器"
           data-author="" >
            <span class="post-title" title="OneProvider 服务器通过 odhcp6 配置 ipv6">OneProvider 服务器通过 odhcp6 配置 ipv6</span>
            <span class="post-date" title="2020-11-14 20:18:50">2020/11/14</span>
        </a>
        
        <a  class="全部文章 Linux "
           href="/2020/11/04/Linux%E6%B5%8B%E9%80%9F%E5%B7%A5%E5%85%B7-Speedtest-CLI/"
           data-tag="Linux,Speedtest"
           data-author="" >
            <span class="post-title" title="Linux 测速工具 Speedtest-CLI">Linux 测速工具 Speedtest-CLI</span>
            <span class="post-date" title="2020-11-04 18:47:24">2020/11/04</span>
        </a>
        
        <a  class="全部文章 Linux "
           href="/2020/10/31/Debain%E4%B8%AD%E4%BD%BF%E7%94%A8GPT%E5%88%86%E5%8C%BA%E8%A1%A8%E8%BF%9B%E8%A1%8C%E5%88%86%E5%8C%BA/"
           data-tag="Debain,Linux"
           data-author="" >
            <span class="post-title" title="Debain 中使用 GPT 分区表进行分区">Debain 中使用 GPT 分区表进行分区</span>
            <span class="post-date" title="2020-10-31 10:06:16">2020/10/31</span>
        </a>
        
        <a  class="全部文章 Aegisub "
           href="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/"
           data-tag="Aegisub"
           data-author="" >
            <span class="post-title" title="Aegisub - 大神之路">Aegisub - 大神之路</span>
            <span class="post-date" title="2020-10-31 09:06:16">2020/10/31</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Aegisub - 大神之路" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Aegisub - 大神之路</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Aegisub">Aegisub</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">Aegisub</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2020-11-01 23:17:32'>2020-10-31 09:06</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:23.1k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vmoe%E5%AD%97%E5%B9%95%E7%BB%84"><span class="toc-text">Vmoe 字幕组

</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2"><span class="toc-text"> 2. 文件各部分解析 </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E5%90%84%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A1%8C"><span class="toc-text">3. 各种类型的行</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Script-Info-%E9%83%A8%E5%88%86%E7%9A%84%E6%A0%87%E9%A2%98%E8%A1%8C"><span class="toc-text">4. [Script Info] 部分的标题行</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-v4-Styles-%E9%83%A8%E5%88%86%E7%9A%84%E9%A3%8E%E6%A0%BC%E8%A1%8C-Style"><span class="toc-text">5. [v4+ Styles] 部分的风格行 Style</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-Events-%E9%83%A8%E5%88%86%E7%9A%84%E5%AF%B9%E8%AF%9D%E8%A1%8C-Dialogue"><span class="toc-text">6. [Events] 部分的对话行 Dialogue</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%A1%8C-Comment"><span class="toc-text">7. [Events] 事件部分的注解行 Comment</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%9B%BE%E7%89%87%E8%A1%8C-Picture"><span class="toc-text">8. [Events] 事件部分的图片行 Picture</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%A3%B0%E9%9F%B3%E8%A1%8C-Sound"><span class="toc-text">9. [Events] 事件部分的声音行 Sound</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%BD%B1%E7%89%87%E8%A1%8C-Movie"><span class="toc-text">10. [Events] 事件部分的影片行 Movie</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C-Command"><span class="toc-text">11. [Events] 事件部分的命令行 Command</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-%E9%A3%8E%E6%A0%BC%E8%A6%86%E7%9B%96%E4%BB%A3%E7%A0%81-Tags-Codes"><span class="toc-text">12. 风格覆盖代码 (Tags, Codes)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E4%B8%80%E8%88%AC%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-text">(一) 一般的代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E7%BB%98%E5%9B%BE%E4%BB%A3%E7%A0%81"><span class="toc-text">(二) 绘图代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%9B%BE%E5%91%BD%E4%BB%A4"><span class="toc-text">绘图命令:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%B5%8C%E7%9A%84%E5%AD%97%E4%BD%93-%E5%9B%BE%E7%89%87%E7%BC%96%E7%A0%81"><span class="toc-text">内嵌的字体 &#x2F; 图片编码</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-%E8%87%AA%E5%8A%A8%E5%8C%96%E7%89%B9%E6%95%88%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-text">13. 自动化特效实现方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Aegisub-%E5%9C%A8%E5%88%9A%E5%88%9A%E5%81%9A%E4%BA%86%E4%BA%9B%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">1. Aegisub 在刚刚做了些什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%90%AB%E4%B9%89%EF%BC%9A"><span class="toc-text">2. 模板的含义：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-template-line-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">3. template line 是什么？</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14-Template-%E4%BF%AE%E9%A5%B0%E8%AF%AD"><span class="toc-text">14. Template 修饰语</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-once"><span class="toc-text">1. once</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-line"><span class="toc-text">2. line</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-pre-line"><span class="toc-text">3.pre-line</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Syl"><span class="toc-text">4. Syl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Furi"><span class="toc-text">5. Furi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-All"><span class="toc-text">6.All</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Char"><span class="toc-text">7. Char</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-fx-name"><span class="toc-text">8. fx name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-keeptags"><span class="toc-text">9.keeptags</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-multi"><span class="toc-text">10.multi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-noblank"><span class="toc-text">11. noblank</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-notext"><span class="toc-text">12. notext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-repeat-n%EF%BC%8Cloop-n"><span class="toc-text">13. repeat n，loop n</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15-Template-%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-text">15. Template 内置变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%A1%8C%E5%8F%98%E9%87%8F"><span class="toc-text">1. 行变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%9F%B3%E8%8A%82%E5%8F%98%E9%87%8F"><span class="toc-text">2. 音节变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%85%A8%E5%B1%80%E8%87%AA%E5%8A%A8%E5%8F%98%E9%87%8F"><span class="toc-text">3. 全局自动变量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#16-retime-%E5%87%BD%E6%95%B0"><span class="toc-text">16. retime 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#retime%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8B%86%E5%88%86%E6%97%B6%E9%97%B4%EF%BC%8C%E9%87%8D%E8%A6%81%E4%B8%8D%E5%8F%AF%E7%BC%BA%E7%9A%84%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0"><span class="toc-text">retime：用于拆分时间，重要不可缺的一个函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90%E5%88%86%E6%9E%90"><span class="toc-text">例子分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-text">第一段代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-text">第二段代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-text">第三段代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-text">第四段代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-text">第五段代码：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#17-remember-amp-recall-%E5%87%BD%E6%95%B0"><span class="toc-text">17. remember &amp; recall 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E4%B8%80%EF%BC%9A"><span class="toc-text">例一：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E4%BA%8C%EF%BC%9A"><span class="toc-text">例二：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#18-random-%E5%87%BD%E6%95%B0"><span class="toc-text">18. random 函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#19-%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="toc-text">19. 其他函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-relayer"><span class="toc-text">1. relayer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-restyle"><span class="toc-text">2. restyle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-maxloop"><span class="toc-text">3. maxloop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-loopctl"><span class="toc-text">4. loopctl</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#20-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97%E9%A1%B6%E6%B3%A8%E9%87%8A"><span class="toc-text">20. 自动化添加文字顶注释</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#21-ASS-%E6%BB%9A%E5%8A%A8%E5%AD%97%E5%B9%95"><span class="toc-text">21. ASS 滚动字幕</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E4%BD%93%E5%9B%9E%E9%A1%BE"><span class="toc-text">总体回顾</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#22-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81"><span class="toc-text">22. 自动化添加代码</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#23-LUA-%E4%BB%A3%E7%A0%81%E5%BA%94%E7%94%A8"><span class="toc-text">23. LUA 代码应用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#24-ASS-Draw3-%E7%AE%80%E8%A6%81%E6%95%99%E7%A8%8B"><span class="toc-text">24. ASS Draw3 简要教程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Canvas%EF%BC%88%E7%94%BB%E5%B8%83%E8%8F%9C%E5%8D%95%EF%BC%89%E5%90%84%E9%A1%B9%E8%AF%B4%E6%98%8E"><span class="toc-text">一、Canvas（画布菜单）各项说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Mode%EF%BC%88%E6%A8%A1%E5%BC%8F%E8%8F%9C%E5%8D%95%EF%BC%89%E5%90%84%E9%A1%B9%E8%AF%B4%E6%98%8E"><span class="toc-text">二、Mode（模式菜单）各项说明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81Background%EF%BC%88%E8%83%8C%E6%99%AF%E6%93%8D%E4%BD%9C%E8%8F%9C%E5%8D%95%EF%BC%89"><span class="toc-text">三、Background（背景操作菜单）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Workspace%EF%BC%88%E5%B7%A5%E4%BD%9C%E5%8C%BA%EF%BC%89"><span class="toc-text">四、Workspace（工作区）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81Help%EF%BC%88%E5%B8%AE%E5%8A%A9%E8%8F%9C%E5%8D%95%EF%BC%89"><span class="toc-text">五、Help（帮助菜单）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%BB%E5%B8%83%E6%93%8D%E4%BD%9C%E8%AF%A6%E8%A7%A3"><span class="toc-text">画布操作详解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E8%AE%BE%E7%BD%AE%E6%A0%8F"><span class="toc-text">六、设置栏</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Vmoe字幕组"><a href="#Vmoe字幕组" class="headerlink" title="Vmoe字幕组"></a>Vmoe 字幕组<br><br></h2><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/01.png"></p>
<span id="more"></span>


<ul>
<li><a href="#1-%E6%A6%82%E8%BF%B0">1. 概述</a></li>
<li><a href="#3-%E5%90%84%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A1%8C">3. 各种类型的行</a></li>
<li><a href="#4-Script-Info-%E9%83%A8%E5%88%86%E7%9A%84%E6%A0%87%E9%A2%98%E8%A1%8C">4. [Script Info] 部分的标题行</a></li>
<li><a href="#5-v4-Styles-%E9%83%A8%E5%88%86%E7%9A%84%E9%A3%8E%E6%A0%BC%E8%A1%8C-Style">5. [v4+ Styles] 部分的风格行 Style</a></li>
<li><a href="#6-Events-%E9%83%A8%E5%88%86%E7%9A%84%E5%AF%B9%E8%AF%9D%E8%A1%8C-Dialogue">6. [Events] 部分的对话行 Dialogue</a></li>
<li><a href="#7-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%A1%8C-Comment">7. [Events] 事件部分的注解行 Comment</a></li>
<li><a href="#8-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%9B%BE%E7%89%87%E8%A1%8C-Picture">8. [Events] 事件部分的图片行 Picture</a></li>
<li><a href="#9-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%A3%B0%E9%9F%B3%E8%A1%8C-Sound">9. [Events] 事件部分的声音行 Sound</a></li>
<li><a href="#10-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%BD%B1%E7%89%87%E8%A1%8C-Movie">10. [Events] 事件部分的影片行 Movie</a></li>
<li><a href="#11-Events-%E4%BA%8B%E4%BB%B6%E9%83%A8%E5%88%86%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C-Command">11. [Events] 事件部分的命令行 Command</a></li>
<li><a href="#12-%E9%A3%8E%E6%A0%BC%E8%A6%86%E7%9B%96%E4%BB%A3%E7%A0%81Tags-Codes">12. 风格覆盖代码 (Tags, Codes)</a></li>
<li><a href="#13-%E8%87%AA%E5%8A%A8%E5%8C%96%E7%89%B9%E6%95%88%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F">13. 自动化特效实现方式</a></li>
<li><a href="#14-Template-%E4%BF%AE%E9%A5%B0%E8%AF%AD">14. Template 修饰语</a></li>
<li><a href="#15-Template-%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F">15. Template 内置变量</a></li>
<li><a href="#16-retime-%E5%87%BD%E6%95%B0">16. retime 函数</a></li>
<li><a href="#17-remember--recall-%E5%87%BD%E6%95%B0">17. remember &amp; recall 函数</a></li>
<li><a href="#18-random-%E5%87%BD%E6%95%B0">18. random 函数</a></li>
<li><a href="#19-%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0">19. 其他函数</a></li>
<li><a href="#20-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97%E9%A1%B6%E6%B3%A8%E9%87%8A">20. 自动化添加文字顶注释</a></li>
<li><a href="#21-ASS-%E6%BB%9A%E5%8A%A8%E5%AD%97%E5%B9%95">21. ASS 滚动字幕</a></li>
<li><a href="#22-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81">22. 自动化添加代码</a></li>
<li><a href="#23-LUA-%E4%BB%A3%E7%A0%81%E5%BA%94%E7%94%A8">23. LUA 代码应用</a></li>
<li><a href="#24-ASS-Draw3-%E7%AE%80%E8%A6%81%E6%95%99%E7%A8%8B">24. ASS Draw3 简要教程</a></li>
</ul>
<!-- /TOC -->






<p><a name="1"></a></p>
<h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h1><p>SSA 全称 SubStation Alpha, 是由 CS Low (又称 Kotus) 创建的一种字幕格式，用以实现比传统字幕诸如 srt 等格式更为复杂的功能. SSA 目前的版本为 v4.00. SSA 同时也是一款软件的名称，专用于创建和编辑 SSA 格式的字幕.<br>ASS 是一种比 SSA 更为高级的字幕格式，全称 Advanced SubStation Alpha, 实质是 SSA v4.00+ 版本。它拥有比 SSA 更多的功能.</p>
<ol>
<li>SSA v4.00 与之前的 SSA 版本格式不同. v4 可以阅读和加载以前版本的格式，但之前版本不支持 v4 以上的编写格式。换句话说，SSA 从 v4 版本开始可以阅读它认识的命令而忽略不认识的命令，从而可以向下兼容，也可以向上兼容.</li>
<li> 文件为普通的 DOS 文本格式。也就是说它可以用记事本打开编辑，同时需要注意编写出错时有可能导致无法预料的结果.</li>
<li> 文件编写时所划分的各部分，从形式上来说类似于 ini 文件，但它并非真正的 ini 文件</li>
<li>各部分中的绝大多行都以一说明性的文字加上冒号来开头，指明该行包含哪一些信息.</li>
<li> 每一行中的信息都以逗号分隔。因此风格名和人物角色名中要求不能出现逗号.</li>
<li> 事件部分 ([Events]) 里的各行可以不分先后。也就是说人物对白行可以不按时间顺序排列</li>
<li>不正确的行会被忽略。同时会给出警告指出被忽略的行数</li>
<li>一行里包含了完整的信息，必须在一行内写完，不能分成多行</li>
<li>当文件中引用了一个未知的风格名 (style) 时，加载时会用默认的风格来替代 (Default)</li>
<li> 当一个风格 (Style) 中引用了系统中没有安装的字体，则会用 Arial 字体来代替.</li>
</ol>
<h1 id="2"> 2. 文件各部分解析 </h1>    

<p><font color="#CC0033" size="4"><b>[Script Info]</b></font><br><br>这一部分包含了文件内容的标题和总体信息. [Script Info] 这一行必须是 v4 版本文件的第一行<br><br><br><font color="#CC0033" size="4"><b>[v4 Styles]</b></font><br><br>字幕正文使用的风格都在这一部分做出相关定义。注: ASS 使用的是 [v4+ Styles]<br><br><br><font color="#CC0033" size="4"><b>[Events]</b></font><br><br>这部分包含所有的事件，有字幕，评论，图片，声音，影片和命令。基本上屏幕中出现的所有内容都集中在这一部分.<br><br><br><font color="#CC0033" size="4"><b>[Fonts]</b></font><br><br>如果想把字体内嵌入字幕文件，那么字体文件须采用数字编码后放在这一部分。只有 truetyle 字体才能内嵌入 SSA/ASS 文件，每一个内嵌字体文件以一行开头，格式如下:<br><br><font color="#0000FF">fontname: &lt;文件名&gt;</font><br>开头的 “fontname” 必须全部用小写，如果大写会让 ASS 文件视其为文件编码的一部分.<br><br>&lt;文件名&gt; 是 SSA 文件保存字体时使用的文件名，命名规则如下:<br><br>truetype 字体原来的字体名称加一条下划线<br><br>如果是粗体则加一个”B” 如果是斜休则加一个”I”<br><br>加一个数字表明字体编码 (字符集) 最后加上”.ttf”<br><br>例如: fontname: comic_B0.ttf<br></p>
<p>在这一行之后是一些可打印的字符组成的行，代表组成这个字体的二进制字符，除了最后一行可能短些，其余每行有 80 个字符.<br>从二进制转换到字符用的是 UUE-encoding 的编码方式</p>
<p><br><font color="#CC0033" size="4"><b>[Graphics]</b></font><br><br>如果选择内嵌图片，那这一部分就包含了所有用到的数字编码格式的图片文件。开头一行的格式如下:<br><br><font color="#0000FF">fontname: &lt;文件名&gt;</font></p>
<p>开头的”filename” 必须为小写，如果大写会被认为是文件编码的一部分.<br>&lt;文件名&gt; 是 SSA 文件保存图片时使用的文件名，它与 [Events] 事件部分中提及的图片名称一致.<br></p>
<p>SSA 会把文件中找到的任何文件保存到 SSA 的程序目录中的”Pictures” 子目录中。例如: <code>C:\program files\Sub Station Alpha v4.00\Pictures</code> . SSA 会先从文件本身中寻找这些编码好的文件，但当没有找到时会去”Pictures” 这个子目录里去找.</p>
<p>注：现在的 SSA 文件已经很少包含”[Pictures]”  或者 “[Fonts]”  这两个部分。因为这些功能只被 Sub Station Alpha 这一个程序所支持。而其它的 filter (Vobsub/Vsfilter/Avery Lee Subtitler filter) 都不支持.</p>
<h1 id="3-各种类型的行"><a href="#3-各种类型的行" class="headerlink" title="3. 各种类型的行"></a>3. 各种类型的行</h1><p>在这一节里简要地说明在每个部分中出现的所有行的类型和大致功能，各自具体说明参见后面的章节.</p>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th> 说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> ;</td>
<td> 在编写中请说明作用的行，加载字幕时不可见.</td>
</tr>
<tr>
<td align="center">Title:</td>
<td> 标题，是对字幕的描述</td>
</tr>
<tr>
<td align="center"> Original Script:</td>
<td> 最初创建字幕的人</td>
</tr>
<tr>
<td align="center"> Original Translation:</td>
<td>(可选) 最初翻译对话的人</td>
</tr>
<tr>
<td align="center"> Original Editing:</td>
<td>(可选) 最初的编辑者，一般是所有参与翻译和校对等工作的人</td>
</tr>
<tr>
<td align="center"> Original Timing:</td>
<td>(可选) 最初的时间轴人员</td>
</tr>
<tr>
<td align="center"> Synch Point:</td>
<td>(可选) 指出从哪一个时间点开始进行字幕加载播放</td>
</tr>
<tr>
<td align="center"> Script Updated By:</td>
<td>(可选) 对原字幕对话进行编辑更新的人</td>
</tr>
<tr>
<td align="center"> Update Details:</td>
<td> 进行了哪些更新等具体信息</td>
</tr>
<tr>
<td align="center"> ScriptType:</td>
<td> 对 SSA/ASS 文件的版本做说明，例如”v4.00″. ASS 的版本为”v4.00+”</td>
</tr>
<tr>
<td align="center">Collisions:</td>
<td> 当两条字幕重叠时，如何进行相对移动</td>
</tr>
<tr>
<td align="center"> PlayResY:</td>
<td> 文件所使用的视频高度参考标准</td>
</tr>
<tr>
<td align="center"> PlayResX:</td>
<td> 文件所使用的视频宽度参考标准</td>
</tr>
<tr>
<td align="center"> PlayDepth:</td>
<td> 加载字幕时所使用的颜色深度</td>
</tr>
<tr>
<td align="center"> Timer:</td>
<td> 对字幕加载的速度调整，数值为百分数。例如”100.0000″代表 100%.</td>
</tr>
<tr>
<td align="center">ScaledBorderAndShadow:</td>
<td> 边框宽度与阴影深度是否随着视频分辨率同等比例缩放.</td>
</tr>
<tr>
<td align="center">Style:</td>
<td> 定义每条字幕所使用的风格</td>
</tr>
<tr>
<td align="center"> Dialogue:</td>
<td> 指明为对话事件，即屏幕上出现的字幕</td>
</tr>
<tr>
<td align="center"> Comment:</td>
<td> 指明此行是评论 / 解释事件，它与 Dialogue, Picture, Sound, Movie 或者 Command 事件包含相同的信息，以此来进行解释说明，但加载字幕时不会出现在屏幕</td>
</tr>
<tr>
<td align="center"> Picture:</td>
<td> 指明为图片事件，即显示.bmp, .jpg, .gif, .ico 或者 .wmf  格式的图片 (注意不支持 png, 且 filter 不支持加载图片)</td>
</tr>
<tr>
<td align="center">Sound:</td>
<td> 指明为声音事件，即播放.wav 格式的声音 (filter 不支持)</td>
</tr>
<tr>
<td align="center">Movie:</td>
<td> 指明为电影事件，即加载 avi 视频 (filter 不支持)</td>
</tr>
<tr>
<td align="center">Command:</td>
<td> 指明为命令事件，即可在后台打开某个程序</td>
</tr>
</tbody></table>
<h1 id="4-Script-Info-部分的标题行"><a href="#4-Script-Info-部分的标题行" class="headerlink" title="4. [Script Info]部分的标题行"></a>4. [Script Info] 部分的标题行</h1><table>
<thead>
<tr>
<th>CODE</th>
<th> 说明</th>
</tr>
</thead>
<tbody><tr>
<td> ;</td>
<td> 分号，后面可以跟任何内容。这一行是说明性文字，加载字幕时不显示注意此类型行必须要把分号放最前。老版本不是用分号而是用！:</td>
</tr>
<tr>
<td>Title:</td>
<td> 标题，如果没有提供，则自动使用<untitled> Original Script:    剧本的最初作者，若没有提供则自动使用<unknown> Original Translation:    (可选) 原剧本的翻译者，若没有提供则该行不显示 Original Editing:            (可选) 原剧本的编者和校对，若没有提供则该行不显示 Original Timing:    (可选) 原剧本的时间轴人员，若没有提供则该行不显示</unknown></untitled></td>
</tr>
<tr>
<td> Synch Point:</td>
<td>(可选) 从哪个时间点开始加载字幕，若没有提供则该行不显示 Script Updated By:        (可选) 对原剧本的修改 / 更新人员，若没有提供则该行不显示 Update Details:            更新的具体信息，若没有提供则该行不显示</td>
</tr>
<tr>
<td> Script Type:</td>
<td>SSA 的版本信息，ASS 的版本为”v4.00+”</td>
</tr>
<tr>
<td>Collisions:</td>
<td> 当字幕时间重叠时，前后字幕的堆叠方式.<br>值为”Normal” 时，后一条字幕出现在前一条字幕的上方.<br>如果值为”Reverse” 时，前一条字幕往上移动给后一条字幕让位.</td>
</tr>
<tr>
<td>PlayResY:</td>
<td> 文件所使用的视频高度参考标准，如果使用 Directdraw 回放 SSA v4 会自动选择最相近的启用的设置</td>
</tr>
<tr>
<td> PlayResX:</td>
<td> 文件所使用的视频宽度参考标准，如果使用 Directdraw 回放 SSA v4 会自动选择最相近的启用的设置.<br>如果只提供了 PlayResX, PlayResY 其中一种，那另一种会按<strong>实际视频的像素值</strong>为准.<br><font color="#0000FF">提供的分辨率数值影响以下参数:<br> 　1. 所有给出的坐标 (到边缘的距离，\pos, \move, 矢量绘图等) 都以此分辨率作为参照.<br>　2. 所有的文字字号均按照此分辨率等比例放大缩小<br>　3. 当 ScaledBorderAndShadow 被启用时，所有边框宽度和阴影深度都按照此分辨率与实际分辨率的比例等比例缩放<br>　4. 这个分辨率不影响最终显示文字的宽高比，但影响矢量绘画图形的宽高比.</font></td>
</tr>
<tr>
<td>PlayDepth:</td>
<td> 加载字幕时使用的色深 (颜色的数目), 如果使用 Directdraw 回放 SSA v4 会自动选择最相近的启用的设置</td>
</tr>
<tr>
<td> Timer:</td>
<td> 字幕加载的速度调整，数值为百分数。例如”100.0000″代表 100%.  其数值有 4 位小数点。它相当于对 ASS 字幕的时间速度进行乘法运算。当速度大于 100% 时，总时间会缩短，而相应的字幕会越来越靠前。当速度小于 100% 时，总时间会延长，而相应的字幕会越来越靠后.</td>
</tr>
<tr>
<td>WrapStyle:</td>
<td> 定义默认的换行方式，<br>0: 智能换行，行分得较平均，上面的行较长<br>1: 一行结束后从行尾的词分行<br>2: 不换行。此模式下只有 \n, \N 才换行<br>3: 与模式 0 相同，但下面的行分得比较长</td>
</tr>
<tr>
<td><font color="#0000FF"> ScaledBorderAndShadow: </font></td>
<td>指定边框宽度与阴影深度是否随着视频分辨率等比例缩放。可为 Yes, No. 默认为 No.<br>当取值为 No 时，边框宽度与阴影深度完全按照指定的像素数显示.<br>当取值为 Yes 时，边框宽度与阴影深度随着实际视频的分辨率同等比例缩放.</td>
</tr>
</tbody></table>
<h1 id="5-v4-Styles-部分的风格行-Style"><a href="#5-v4-Styles-部分的风格行-Style" class="headerlink" title="5. [v4+ Styles]部分的风格行 Style"></a>5. [v4+ Styles] 部分的风格行 Style</h1><p>Style 定义了字幕的样式和位置。所有的 Style 都在单独的 Style 里进行定义.<br>除了阴影 / 边框的类型和深度，其余所有的风格设置都可以由字幕文本中的覆写代码所替代.<br>在定义风格之前先要有一行”Format:” 来定义风格中每一个字段所代表的含义，这些字段名称必须拼写准确，顺序可以打乱，字段名表示如下:</p>
<p>Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, <font color="#0000FF">TertiaryColour</font>, BackColour, Bold, Italic, <font color="#FF0000">Underline,  StrikeOut,  ScaleX,  ScaleY,  Spacing,  Angle</font>,BorderStyle,  Outline,  Shadow,   Alignment,<br>MarginL, MarginR, MarginV, AlphaLevel, Encoding</p>
<table>
<thead>
<tr>
<th>字段 1</th>
<th> 解释</th>
</tr>
</thead>
<tbody><tr>
<td>字段 1: Name.</td>
<td> 风格 (Style) 的名称。区分大小写。不能包含逗号。字段 2:   Fontname.  使用的字体名称，区分大小写.</td>
</tr>
<tr>
<td> 字段 3:   Fontsize.</td>
<td> 字体的字号</td>
</tr>
<tr>
<td>字段 4:   PrimaryColour.</td>
<td> 设置主要颜色，为蓝 - 绿 - 红三色的十六进制代码相排列，BBGGRR. 为字幕填充颜色</td>
</tr>
<tr>
<td>字段 5:        SecondaryColour.</td>
<td> 设置次要颜色，为蓝 - 绿 - 红三色的十六进制代码相排列，BBGGRR. 在卡拉 OK 效果中由次要颜色变为主要颜色.</td>
</tr>
<tr>
<td> 字段 6:        <font color="#0000FF">TertiaryColour</font> <font color="#FF0000">(ASS 中的名称为 OutlineColor),</font></td>
<td> 设置轮廓颜色，为蓝 - 绿 - 红三色的十六进制代码相排列，BBGGRR.</td>
</tr>
<tr>
<td> 字段 7:   BackColour,</td>
<td> 设置阴影颜色，为蓝 - 绿 - 红三色的十六进制代码相排列，BBGGRR.</td>
</tr>
<tr>
<td><font color="#FF0000"> 字段 4-7: </font></td>
<td><font color="#FF0000">ASS 的这些字段还包含了 alpha 通道信息. (AABBGGRR), 注 ASS 的颜色代码要在前面加上 &amp; H 字段 8:   Bold. -1 为粗体，0 为常规  </font></td>
</tr>
<tr>
<td>字段 9:   Italic.</td>
<td>-1 为斜体，0 为常规</td>
</tr>
<tr>
<td><font color="#FF0000">字段 9.1:   Underline.</font></td>
<td><font color="#FF0000"> [-1 或者 0] 下划线</font></td>
</tr>
<tr>
<td><font color="#FF0000">字段 9.2: Strikeout.</font></td>
<td><font color="#FF0000">[-1 或者 0] 中划线 / 删除线字段 9.3:    ScaleX. 修改文字的宽度。为百分数</font></td>
</tr>
<tr>
<td><font color="#FF0000">字段 9.4:   ScaleY.</font></td>
<td><font color="#FF0000"> 修改文字的高度。为百分数</font></td>
</tr>
<tr>
<td><font color="#FF0000">字段 9.5:   Spacing.</font></td>
<td><font color="#FF0000"> 文字间的额外间隙。为像素数</font></td>
</tr>
<tr>
<td><font color="#FF0000">字段 9.6:  Angle.</font></td>
<td><font color="#FF0000"> 按 Z 轴进行旋转的度数，原点由 alignment 进行了定义。可以为小数</font></td>
</tr>
<tr>
<td>字段 10:        BorderStyle.</td>
<td>1 = 边框 + 阴影，3 = 纯色背景。当值为 3 时，文字下方为轮廓颜色的背景，最下方为阴影颜色背景.</td>
</tr>
<tr>
<td> 字段 11:    Outline.</td>
<td> 当 BorderStyle 为 1 时，该值定义文字轮廓宽度，为像素数，常见有 0, 1, 2, 3, 4.</td>
</tr>
<tr>
<td> 字段 12:    Shadow.</td>
<td> 当 BorderStyle 为 1 时，该值定义阴影的深度，为像素数，常见有 0, 1, 2, 3, 4.</td>
</tr>
<tr>
<td> 字段 13:        Alignment.</td>
<td> 定义字幕的位置。字幕在下方时，1 = 左对齐，2 = 居中，3 = 右对齐. 1, 2, 3 加上 4 后字幕出现在屏幕上方. 1, 2, 3 加上 8 后字幕出现在屏幕中间。例: 11 = 屏幕中间右对齐.</td>
</tr>
<tr>
<td> 字段 13:    Alignment.</td>
<td> 对于 ASS 字幕而言，字幕的位置与小键盘数字对应的位置相同。字段 14:    MarginL. 字幕可出现区域与左边缘的距离，为像素数</td>
</tr>
<tr>
<td>字段 15:    MarginR.</td>
<td> 字幕可出现区域与右边缘的距离，为像素数字段 16:    MarginV. 垂直距离<br><font color="#0000FF">对于处在下方的字幕，此值是字幕到<strong>底端</strong>的像素数<br>对于处在屏幕上方的字幕，此值为字幕到<strong>顶端</strong>的像素数。对于处在屏幕中间的字幕，此值被忽略. </font></td>
</tr>
<tr>
<td>字段 17:    AlphaLevel.</td>
<td>SA 字幕用来定义透明度</td>
</tr>
<tr>
<td><font color="#FF0000">字段 17:</font></td>
<td><font color="#FF0000">AAS 没有该字段. </font></td>
</tr>
<tr>
<td>字段 18:    Encoding.</td>
<td> 指明字体的字符集或编码方式。如 0 为英文，134 为简体中文，136 为繁体中文.  <u>当文件为非 UNICODE 类型编码时，该值对字幕的显示起作用.</u></td>
</tr>
</tbody></table>
<h1 id="6-Events-部分的对话行-Dialogue"><a href="#6-Events-部分的对话行-Dialogue" class="headerlink" title="6. [Events]部分的对话行 Dialogue"></a>6. [Events] 部分的对话行 Dialogue</h1><p>Dialogue 类型的行 (对话行) 包括字幕对白，时间轴信息，以及对白的显示方式.<br>在对话行出现前必须有一条格式行 Format: 来对逗号分隔的每个字段进行定义，该格式行中的每一个字段必须拼写准确，内容如下:</p>
<p><font color="#0000FF">Marked</font>, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text</p>
<p>最后的一个字段永远都是对白文字的字段，因此可以包含逗号。前面的字段顺序可以改变.</p>
<table>
<thead>
<tr>
<th>字段 1</th>
<th> 解释</th>
</tr>
</thead>
<tbody><tr>
<td>字段 1: Marked.</td>
<td> 值为 0 表示该行为” 未标识” 行，值为 1 表示该行为” 标识” 行</td>
</tr>
<tr>
<td><font color="#FF0000">字段 1: Layer.</font></td>
<td><font color="#FF0000">ASS 的这个字段名是 Layer (图层), 可以为任意的整数。图层不同的两条位置 / 时间有重叠的字幕不被视为有冲突，<u>图层号码大的字幕显示在图层号小的上方.</u></font></td>
</tr>
<tr>
<td> 字段 2: Start.</td>
<td> 事件开始的时间，格式为 0:00:00:00 (时：分: 秒：百分数), <u>注意小时只有一位数</u></td>
</tr>
<tr>
<td>字段 3: End.</td>
<td> 事件结束的时间。格式为 0:00:00:00 (时：分: 秒：百分数), <u>注意小时只有一位数</u></td>
</tr>
<tr>
<td>字段 4: Style.</td>
<td> 该条字幕所使用的风格。风格的具体信息在 [V4<font color="#FF0000">+</font> Style] 这一部分中进行定义</td>
</tr>
<tr>
<td>字段 5: Name.</td>
<td> 角色名，指出对白是由影片中哪位演员所说的。字幕加载时不显示，只为了编写时理解方便.</td>
</tr>
<tr>
<td> 字段 6: MarginL.</td>
<td> 使用新的与左边缘的距离，为 4 位数字代表的像素值. 0000 代表使用当前 Style 定义的值.</td>
</tr>
<tr>
<td> 字段 7: MarginR.</td>
<td> 使用新的与右边缘的距离，为 4 位数字代表的像素值. 0000 代表使用当前 Style 定义的值.</td>
</tr>
<tr>
<td> 字段 8: MarginV.</td>
<td> 使用新的垂直距离，为 4 位数字代表的像素值. 0000 代表使用当前 Style 定义的值。具体说明参见上面 [v4+ Style] 里的说明</td>
</tr>
<tr>
<td>字段 9: Effect.</td>
<td> 过渡效果。可以为空值，或者为三种过渡效果之一.<br>效果名称区分大小写，必须拼写准确。且不加任何引号:<br>“Karaoke” 是卡拉 OK 效果，每个字依次高亮显示.    <font color="#FF0000">注：在 ASS 中该效果已经废弃不用.</font><br>“Scroll up;y1;y2;delay<font color="#FF0000">[;fadeawayheight]</font>”  滚动效果，指文字 / 图片向上滚动。各参数以分号分隔.<br>　　y1 与 y2 是屏幕垂直区域的像素值，位置可以互换。当这两个值都为 0 时则全屏幕内滚动<br>　　delay 可取值 1-100, 代表滚动速度的降低值。当其为 0 时滚动速度最快.<br>“Banner;delay” 横幅效果。所有文字被合并到单行，并从右至左横向移动.<br>　　delay 的值可由 1 到 100, 代表横幅移动速度的降低值。当其为 0 时移动速度最快.<br><font color="#FF0000">“Scroll down;y1;y2;delay [;fadeawayheight]” 向下滚动<br>“Banner;delay[;lefttoright;fadeawaywidth]”<br>注意红字为 ASS 新增功能.<br>lefttoright 可取值 0 或 1, 为可选，默认为 0 (右出左进)<br>当 delay 值大于 0 时，移动速度为 (1000/delay) 像素每秒<br>(注意: Avery Lee 的字幕插件阅读滚动效果的顺序为: delay;y1;y2)<br>fadeawayheight 以及 fadeawaywidth 可令效果边缘的像素呈现透明.</font></td>
</tr>
<tr>
<td> 字段 10: Text.</td>
<td> 为对白字幕区域，是最终出现在屏幕上的字幕。任何位于第 9 个逗号后的内容均被看作是对白字幕，所以本身可以包含逗号。在这一个字段中可以包含 \n, \N, \h 这三种分行 / 空格代码，以及其它在大括号 { } 内的风格覆写控制代码.</td>
</tr>
</tbody></table>
<h1 id="7-Events-事件部分的注解行-Comment"><a href="#7-Events-事件部分的注解行-Comment" class="headerlink" title="7. [Events]事件部分的注解行 Comment"></a>7. [Events] 事件部分的注解行 Comment</h1><p>在 [Events] 这一部分内，以 Comment: 开头的行。它可以与其它类型的事件行包含一样的信息，但不会被作为字幕加载到屏幕上。它起评论 / 说明的作用.</p>
<h1 id="8-Events-事件部分的图片行-Picture"><a href="#8-Events-事件部分的图片行-Picture" class="headerlink" title="8. [Events]事件部分的图片行 Picture"></a>8. [Events] 事件部分的图片行 Picture</h1><p>在 [Events] 这一部分内，以 Picture: 开头的行。它与 Dialogue 行包含一样的控制信息，但是在字段 10 的位置指定要显示的图片完整路径与图片名称。在前面字段指定的风格被忽略，滚动效果可以运用到图片事件上. MarginL 和<br>MarginV 被用来指定图片与左边缘与下边缘的像素距离。当 MarginL 为 0000 时图片水平居中显示。当 MarginV 为<br>0000 时，图片垂直居中.</p>
<p>支持的图片格式有.bmp, .jpg, .gif, .ico 以及.wmf 格式的图片 (不支持 png)<br><br>注意，<u>只有 SSA 软件能支持加载图片事件，filter 则不支持.</u></p>
<h1 id="9-Events-事件部分的声音行-Sound"><a href="#9-Events-事件部分的声音行-Sound" class="headerlink" title="9. [Events]事件部分的声音行 Sound"></a>9. [Events] 事件部分的声音行 Sound</h1><p>在 [Events] 这一部分内，以 Sound: 开头的行。它与 Dialogue 行包含一样的控制信息，但是在字段 10 的位置指定要加载的声音文件完整路径与名称，格式为.wav. 风格与距离等值被忽略，而且结束的时间值也被忽略。该声音会播放到它结束，或者播放到新的声音行加入为止.<br><br>注: <u>各 filter 不支持加载声音行</u></p>
<h1 id="10-Events-事件部分的影片行-Movie"><a href="#10-Events-事件部分的影片行-Movie" class="headerlink" title="10. [Events]事件部分的影片行 Movie"></a>10. [Events] 事件部分的影片行 Movie</h1><p>在 [Events] 这一部分内，以 Movie: 开头的行。它与 Dialogue 行包含一样的控制信息，但是在字段 10 的位置指定要加载的视频文件完整路径与名称，格式为.avi. 风格与效果等值被忽略</p>
<p>结束的时间值 (End) 指出影片画面消失的时间，但如果 avi 文件仍然没有结束，则其声音仍然会持续播放.</p>
<p>MarginL 和 MarginV 被用来指定影片与左边缘，上边缘的像素距离 (与图片行不同). 当 MarginL 为 0000 时视频水平居中显示。当 MarginV 为 0000 时，视频垂直居中.</p>
<p>注: <u>Filter 不支持加载影片行</u><br><br>当 Movie 与 Sound 行有时间重叠时，实际听到的声音以先开始的内容为准.</p>
<h1 id="11-Events-事件部分的命令行-Command"><a href="#11-Events-事件部分的命令行-Command" class="headerlink" title="11. [Events]事件部分的命令行 Command"></a>11. [Events] 事件部分的命令行 Command</h1><p>在 [Events] 这一部分内，以 Command: 开头的行。它与 Dialogue 行包含一样的控制信息，但是在字段 10 的位置指定要运行的程序完整路径与名称.<br>风格，距离，效果，结束时间都被忽略。程序会运行到它结束为止，或者运行到手动关掉为止. <br>注: Filter 不支持加载命令行.</p>
<p>SSA 软件内置的一些命令可以出现在 SSA 文件内。因完全用不到故将英文原文引用如下:</p>
<blockquote>
<p>There are also internal SSA commands which can appear in SSA scripts – the “SSA:Pause”, “SSA:Wait for trigger” command events, and genlock control commands. These all begin with “SSA:”<br>The SSA:Pause command has the same effect as pressing “P” during script playback. It is useful as a second “synch point” to resume subtitling after switching sides of a laserdisk.<br>The “SSA:Wait for audio trigger” command has the same effect as pressing “P” during script playback, but pausing is<br>matically cancelled if the audio input to the computer exceeds a specified “trigger” level. It is useful as a second “synch point” to resume subtitling after switching sides of a laserdisk. The audio triggering can be overridden to resume playback – by pressing “P”.<br>Audio triggering “times out” after 10 minutes – If no audio peak of sufficient magnitude is received, and<br>“P” is not pressed within 10 minutes – then playback will resume anyway.</p>
</blockquote>
<h1 id="12-风格覆盖代码-Tags-Codes"><a href="#12-风格覆盖代码-Tags-Codes" class="headerlink" title="12. 风格覆盖代码(Tags, Codes)"></a>12. 风格覆盖代码 (Tags, Codes)</h1><p>风格覆写控制代码专用于 [Events] 这一部分的最后一个字段中，对于文字 / 图片风格的重新定义.</p>
<p><font color="#0000FF">除了 \n, \N, \h 这三个代码之外，其余所有代码都必须放在大括号 { } 之内<br><br>所有覆写代码都以反斜线开头 \<br><br>多个代码可以放在一个 { } 内</font></p>
<p>所有覆写代码作用于其后的所有文字。如果只想作用于选定的文字，则需要在选定文字的后面加一个” 取消” 作用的代码。但也有少数代码会自动应用于整行文字，如设定位置的代码.</p>
<p>下面将所有代码分成一般，绘图两组来详细解释:</p>
<h2 id="一-一般的代码"><a href="#一-一般的代码" class="headerlink" title="(一) 一般的代码"></a>(一) 一般的代码</h2><table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong> \n</strong></td>
<td align="left"> 软性分行 (回车), 只在分行模式 (WrapStyle) 为 2 时有效。在其它分行模式下相当于一个空格</td>
</tr>
<tr>
<td align="center"><strong> \N</strong></td>
<td align="left"> 硬性分行 (回车), 在任何分行模式下都有效</td>
</tr>
<tr>
<td align="center"><strong> \h</strong></td>
<td align="left"> 硬性空格。它保证显示字幕时不会在它的这个空格上分行 (保证左右两个词在同一行)</td>
</tr>
<tr>
<td align="center"><strong>\b&lt;0 或 1&gt;</strong></td>
<td align="left">\b1 令文字变为粗体. \b0 强制文字不是粗体 (bold)<br>当参数大于 1 时，会被作为字体的重量值. (注：大多字体只有量化到 2 级或 3 级的粗度，所以很少用到这个重量值)<br>字体重量值为 100 的倍数，如 100 为最细，400 为普通，700 为粗体，900 为最粗</td>
</tr>
<tr>
<td align="center"><strong> \i&lt;0 或 1&gt;</strong></td>
<td align="left">\i1 令文字变为斜体. \i0 强制文字不是斜体 (italic)</td>
</tr>
<tr>
<td align="center"><strong>\u&lt;0 或 1&gt;</strong></td>
<td align="left"> 下划线 (underline) 开关</td>
</tr>
<tr>
<td align="center"><strong> \s&lt;0 或 1&gt;</strong></td>
<td align="left"> 中划线 (删除线) 开关 (strikeout)</td>
</tr>
<tr>
<td align="center"><strong>\bord &lt;宽度&gt;</strong></td>
<td align="left"> 指定边框宽度 (border), 像素数。可以为小数</td>
</tr>
<tr>
<td align="center"><strong> \shad &lt;深度&gt;</strong></td>
<td align="left"> 指定阴影深度 (shadow), 不能为负数</td>
</tr>
<tr>
<td align="center"><strong> \be&lt;0 或 1&gt;</strong></td>
<td align="left"> 模糊边缘 blur edges</td>
</tr>
<tr>
<td align="center"><strong>\fn &lt;字体名称&gt;</strong></td>
<td align="left"> 指定使用系统中已安装的字体，区分大小写。如果使用的字体没有安装，则会用 Arial 来替代 (font name).<br><u>注字体名与 fn 间不能有空格，也没有其它的括号等</u></td>
</tr>
<tr>
<td align="center"><strong> \fs &lt;字号&gt;</strong></td>
<td align="left"> 指定文字的大小，&lt;字号&gt; 是一个指代高度的像素值，<font color="#0000FF">只能用整数.</font> (font size)</td>
</tr>
<tr>
<td align="center"><strong>\fsc&lt;x 或 y&gt;&lt; 百分数 &gt;</strong></td>
<td align="left"> 缩放文字大小. &lt;x 或 y&gt; 指定文字是横向还是纵向缩放. &lt; 百分数 &gt; 指定调整到百分之多少. <u>同样适用于矢量图形.</u></td>
</tr>
<tr>
<td align="center"><strong>\fsp &lt;像素值&gt;</strong></td>
<td align="left"> 文字间增加额外的间隔 (font spacing), 默认为 0</td>
</tr>
<tr>
<td align="center"><strong>\fr [&lt;x/y/z&gt;]&lt; 度数 &gt;</strong></td>
<td align="left"> 文字旋转一定的度数 (font rotation)<br>&lt;x/y/z&gt; 表明文字沿着三维空间中哪个坐标轴旋转.<br>原点由 \org 代码来指定，否则由默认的定位点来决定 (参见 \pos 的说明)<br>\fr 默认代表 \frz. &lt;度数&gt; 可以为负值，可以大于 360.  此命令同样适用于矢量图形.</td>
</tr>
<tr>
<td align="center"><strong>\fe &lt;字符集&gt;</strong></td>
<td align="left"> 指定文字的编码 (font encoding). 例如 0 为英文，134 为简体中文，136 为繁体中文. 1 为系统默认.<br><font color="#0000FF">注：当 ASS/SSA 文件本身的编码为非 Unicode 编码时，这个数值总影响到按哪种代码页来显示字幕.<br>推荐保存 ASS/SSA 文件时选择 Unicode 方式的编码，例如 UTF-8. 这样可以忽略这个值的设置</font></td>
</tr>
<tr>
<td align="center"><strong> \c&amp;H&lt;bbggrr&gt;&amp;</strong></td>
<td align="left"> 指定文字的颜色 (color). <bbggrr> 是一个十六进制的 RGB 数值，但颜色顺序相反 (蓝 - 绿 - 红).<br>&lt;bbggrr&gt; 排在最前的 00 可以忽略不写，例如 {\c&amp;HFF&amp;}={\c&amp;H0000FF&amp;}, 为纯红色<br>\1c&amp;Hbbggrr&amp;, \2c&amp;Hbbggrr&amp;, \3c&amp;Hbbggrr&amp;, \4c&amp;Hbbggrr &amp; 分别设定主要，次要，边框，阴影颜色<br>\c 相当于 \1c, 为字体本身填充颜色</bbggrr></td>
</tr>
<tr>
<td align="center"><strong> \alpha&amp;H&lt;aa&gt;&amp;</strong></td>
<td align="left"> 设定文字的透明度 (alpha). &lt;aa &gt; 一个十六进制数值. 00 为全见，FF 为全透明<br>\1a&amp;Haa&amp;, \2a&amp;Haa&amp;, \3a&amp;Haa&amp;, \4a&amp;Haa &amp; 分别设定主要，次要，边框，阴影颜色的透明度<br>\alpha 一次性调整文字所有元素的透明度</td>
</tr>
<tr>
<td align="center"><strong> \a &lt;位置&gt;</strong></td>
<td align="left">&lt;位置&gt; 是一个数字代码，用来代表字幕出现在屏幕中的位置 (alignment)<br>1, 2, 3 代表出现在画面底端的字幕，分别为左对齐，居中，右对齐<br>5, 6, 7 代表出现在画面顶端的字幕，分别为左对齐，居中，右对齐 (在 1,2,3 基础上加了 4)<br>9, 10, 11 代表出现在画面中间的字幕，分别为左对齐，居中，右对齐 (在 1,2,3 基础上加了 8)<br>当一行出现多个 \a 代码时，只有最前面的一个有效</td>
</tr>
<tr>
<td align="center"><strong> \an &lt;位置&gt;</strong></td>
<td align="left">&lt;位置&gt; 为一数字代码，代表字幕的位置，从 1 到 9, 与小键盘的数字键代表的位置一致<br>当一行出现多个 \an 代码时，只有最前面的一个有效<br>注：一般情况下 \a, \an 设置字幕位置，但当有 \pos, \move 等代码时，\a 和 \an 设置的是文字的定位点.</td>
</tr>
<tr>
<td align="center"><strong>\k &lt;时间长度&gt;</strong></td>
<td align="left"> 卡拉 OK 效果，高亮之前文字使用次要颜色，高亮后使用主要颜色<br>&lt;时间长度&gt; 代表在下一小段出现高亮效果之前的当前段高亮停留时间，值为百分之一秒的倍数<br>\k &lt;时间长度&gt; 按照每一分隔好的小段来进行高亮显示<br>\kf 或者 \K &lt;时间长度&gt; 是从左至右的流畅填充高亮<br>\ko &lt;时间长度&gt;, 与 \k 相似，但在高亮之前文字边框也被去掉，高亮后才显示边框</td>
</tr>
<tr>
<td align="center"><strong> \q &lt;方式&gt;</strong></td>
<td align="left"> 定义分行方式，即 WrapStyle<br>值为 0: 智能分行，大致平均分行，不能完全平均时上面的行较长.<br>值为 1: 行尾分行，尽管排满一整行后，再分到下一行<br>值为 2: 不分行，超出长度的行会排到屏幕以外。这种方式下，\n 和 \N 都可以强制分行<br>值为 3: 智能分行，与方式 0 相似，但下面的行比较长<br></td>
</tr>
<tr>
<td align="center"><strong>\r [&lt;风格&gt;]</strong></td>
<td align="left"> 取消一行中之前的所有覆写代码效果，包括动态特效. (restore/reset)<br>&lt;风格&gt; 令其恢复到指定的风格，如果没有指定 &lt; 风格 &gt; 则恢复到这一行的默认风格</td>
</tr>
<tr>
<td align="center"><strong> \t ([&lt;时值 1&gt;, &lt; 时值 2&gt;, ] [&lt; 加速度 &gt;,] &lt; 风格代码 &gt;)</strong></td>
<td align="left"> 提供从一种风格转到另一种风格的逐渐变化的动态效果。只有部分风格代码可以用 \t 进行动态变换:<br><br><table border="1"><tbody><tr><th>字体</th> <td> \fs \fsp \c \1c \2c \3c \4c \alpha \1a \2a \3a \4a</td></tr><tr><th> 几何形</th><td> \fscx \fscy \frx\fry \frz \fr</td></tr><tr><th> 其他</th><td> \bord \shad \clip \pos</td></tr></tbody></table><br>注：对于 \clip, 只有矩形可以呈动态效果，矢量绘画图形无法呈动态<br>&lt;时值 1&gt; 与 &lt; 时值 2 &gt; 是从该行开始显示后计算的毫秒数，两时值间的时间间隔就是动态效果的运行时间 (两时值无先后之分).<br>这两个时候没有指定时相当于 &lt;时值 1&gt; = &lt; 时值 2&gt; = 0. 这时动态效果在整行的时间内运行 &lt; 加速度 &gt; 没有指定时相当于 1,  此时匀速变化. &lt; 加速度 &gt; 在 0 和 1 之间时速度由快变慢，大于 1 时由慢变快.<br>在 &lt;时值 1&gt; 之前，显示内容是 {\t} 代码之前的风格，&lt; 时值 2 &gt; 以后是 &lt; 风格代码 &gt; 所指定的风格.</td>
</tr>
<tr>
<td align="center"><strong>\pos(&lt;x&gt;;, &lt;y&gt;)</strong></td>
<td align="left"> 设置该行显示的位置，x,y 为定位点的坐标值，屏幕可见区的坐标为正值。原点 (0,0) 在左上角落<br><font color="#0000FF">对于不同屏幕排列的字幕，定位点的相对位置不同.<br>\an1 的定位点在字幕左下角，\an2 的定位点在字幕正中下方，\an3 的定位点在字幕右下角<br>\an4 的定位点在字幕正中左端，\an5 的定位点在字幕正中，\an6 的定位点在字幕正中最右端<br>\an7 的定位点在字幕左上角，\an8 的定位点在字幕正中上方，\an9 的定位点在字幕右上角</font><br><u>一行中有多个 \pos 时以最前面的 \pos 值为准</u></td>
</tr>
<tr>
<td align="center"><strong> \move (&lt;x1&gt;, &lt;y1&gt;, &lt;x2&gt;, &lt;y2&gt;[, &lt; 时值 1&gt;, &lt; 时值 2&gt;])</strong></td>
<td align="left"> 提供从一个位置到另一个位置的移动动态效果.<br>x1, y1 是定位点起始的坐标 (定位点的说明参见 \pos 代码), x2, y2 是定位点结束的坐标<br><ol><li>未达到 &lt;时值 1&gt; 时，文字位置的定位点在 (x1, y1)</li><li> 在 &lt;时值 1&gt; 和 &lt; 时值 2 &gt; 之间，定位点从 (x1, y1) 移动到 (x2, y2)</li><li> 超过 &lt;时值 2&gt; 后，文字的定位点固定在 (x2, y2) 点.</li></ol> 当时值 1, 时值 2 没有指明时相当于两个都是 0, 此时在该行的整个时间段内匀速移动 (时值的具体说明参见 \t 代码)<br><u>时值 1, 时值 2 可以大于该行的总时间段，令没有达到终点时结束移动.<br>\move 只能够匀速移动，不能够加速移动<br>一行中有多个 \move 代码时只有排在最前面的 \move 效果有效<br>一行中不能同时使用 {\pos} 和 {\move} 代码，如果同时出现则只有排在最前面的效果有效</u></td>
</tr>
<tr>
<td align="center"><strong> \org(&lt;x&gt;, &lt;y&gt;)</strong></td>
<td align="left"> 设置旋转的原点坐标 (origin), 它影响一行中所有的旋转<br>当有旋转效果的一行中没有 \org 代码，则用于旋转的原点坐标就是默认的定位点.<br>原点坐标可以放置在画面可见区域以外，足够远时通过旋转一个小角度可让字幕产生” 穿过屏幕” 的效果<br>一行中有多个 \org 代码时只有排在最前面的 \org 有效<br><font color="#0000FF">注意: \t, \move 和 \pos 会忽略位置重叠的检测</font></td>
</tr>
<tr>
<td align="center"><strong> \fad (&lt;淡入时间&gt;,&lt; 淡出时间 &gt;)</strong></td>
<td align="left"> 提供简单的淡入淡出效果. &lt;淡入时间&gt; 与 &lt; 淡出时间 &gt; 之和不能超过该行的时间长度.</td>
</tr>
<tr>
<td align="center"><strong>\fade (&lt;a1&gt;,&lt;a2&gt;,&lt;a3&gt;,&lt; 时值 1&gt;,&lt; 时值 2&gt;,&lt; 时值 3&gt;,&lt; 时值 4&gt;)</strong></td>
<td align="left"> 提供复杂的透明度变化效果. &lt;a1&gt;,&lt;a2&gt;,&lt;a3 &gt; 为三个不同的透明度值 (alpha), 取值从 0 到 255. 0 全见，255 全透明<br>这个代码里的 7 个参数要求全部写齐，作用方式如下:<br>1)    在 &lt;时值 1&gt; 之前，透明度为 &lt; a1&gt;<br>2)    在 &lt;时值 1&gt; 与 &lt; 时值 2 &gt; 之间，透明度从 &lt; a1 &gt; 变化到 &lt; a2&gt;<br>3)    在 &lt;时值 2&gt; 与 &lt; 时值 3 &gt; 之间，透明度为固定的 &lt; a2&gt;<br>4)    在 &lt;时值 3&gt; 与 &lt; 时值 4 &gt; 之间，透明度从 &lt; a2 &gt; 变化到 &lt; a3&gt;<br>5)    在 &lt;时值 4&gt; 之后，透明度为 &lt; a3&gt;</td>
</tr>
<tr>
<td align="center"><strong>\clip(&lt;x1&gt;, &lt;y1&gt;, &lt;x2&gt;, &lt;y2&gt;)</strong></td>
<td align="left"> 定义一个矩形框，只有在这个框里的字幕才为可见<br>&lt;x1&gt;, &lt;y1&gt;, &lt;x2&gt;, &lt;y2 &gt; 为构成矩形的两个对角点<br>\clip ([&lt;等级&gt;,] &lt; 绘图命令 &gt;)<br>定义一个绘画图形，令这个图形内的字幕可见<br>&lt;绘图命令&gt; 参见第二组代码.<br>&lt;等级&gt; 是指定图形的缩放等级。为 2 的 (等级 - 1) 次方。如 /clip4, 2 的 (4-1) 次方为 8, 即将后面的图形缩至 1/8</td>
</tr>
</tbody></table>
<h2 id="二-绘图代码"><a href="#二-绘图代码" class="headerlink" title="(二)绘图代码"></a>(二) 绘图代码</h2><table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong> \p &lt;等级&gt;</strong></td>
<td align="left"> 进入绘图模式并指定坐标的放大等级.<br>&lt;等级&gt; 为坐标的缩放等级，按 2 的 (等级 - 1) 次方计算。如 /clip4, 2 的 (4-1) 次方为 8, 即将后面的坐标缩至 1/8<br>当 &lt;等级&gt;=0 时，关闭绘图模式.</td>
</tr>
<tr>
<td align="center"><strong>\pbo&lt;y&gt;</strong></td>
<td align="left"> 定义所绘图形的基线偏移值.(baseline offset)<br>当 y&gt;0 时，图形的所有坐标沿 y 轴向下移指定的像素值当<br>y&lt;0 时，图形的所有坐标沿 y 轴向上移指定的像素值</td>
</tr>
</tbody></table>
<h3 id="绘图命令"><a href="#绘图命令" class="headerlink" title="绘图命令:"></a>绘图命令:</h3><table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong> m &lt;x&gt; &lt;y&gt;</strong></td>
<td align="left"> 将鼠标移至坐标 (x, y), 同时将现有的图形封闭 (即开始画新的图形), 所有绘画都以这个命令开始.</td>
</tr>
<tr>
<td align="center"><strong>n &lt;x&gt; &lt;y&gt;</strong></td>
<td align="left"> 将鼠标移至坐标 (x, y), 同时不封闭原有的图形</td>
</tr>
<tr>
<td align="center"><strong> l &lt;x&gt; &lt;y&gt;</strong></td>
<td align="left"> 从鼠标原来的坐标位置画一条直线到 (x, y), 并从这个点继续绘画</td>
</tr>
<tr>
<td align="center"><strong> b &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;x3&gt; &lt;y3&gt;</strong></td>
<td align="left"> 画一条三度贝塞尔曲线至 (x3, y3), 以 (x1, y1), (x2, y2) 作为控制点</td>
</tr>
<tr>
<td align="center"><strong> &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;x3&gt; &lt;y3&gt; .. &lt;xN&gt; &lt;yN&gt;</strong></td>
<td align="left"> 从现有坐标画一条” 三次均匀 B 样条”(cubic uniform b-spline) 到点 (xN, yN)<br>该命令至少要含有三个坐标点 (三个坐标时等同于贝塞尔曲线)<br>这个命令实质上是把几条贝塞尔曲线连结到一起.</td>
</tr>
<tr>
<td align="center"><strong>p &lt;x&gt; &lt;y&gt;</strong></td>
<td align="left"> 沿长 B 样条 (b-spline) 到点 (x, y), 作用相当于在 s 命令后多加一个坐标点 (x, y)</td>
</tr>
<tr>
<td align="center"><strong>c</strong></td>
<td align="left"> 结束 B 样条 (b-spline)</td>
</tr>
</tbody></table>
<p><font color="#0000FF">绘图代码的注意事项:</font></p>
<ol>
<li>   除了在 \clip (..) 命令中，绘图命令必须以 {\p1+} 开头，以 {\p0} 结尾.    (“1+” 指大于等于 1 的整数)</li>
<li>   所有绘图都必须以 m 命令开头</li>
<li>   所有图形都必须最终闭合</li>
<li>   所有没有闭合的图形会在起始点和终点之间连上一条直线来闭合</li>
<li>   在同一行中，若图形有重叠，则重叠部分执行异或逻辑运算 (即正正得负，负负得正)</li>
<li>   如果相同的绘图命令在一起，则只需保留最前面命令代码，后面的坐标可以连着写</li>
<li>   绘图中使用的是相对坐标系。坐标原点由当前的基线位置 (\pbo), 当前行的排列方式决定 (参见 \pos 的定位点说明)<br>命令 p c 只能用在 B 样条命令 s 的后面</li>
</ol>
<p><font color="#0000FF">ASS 之后又有更新的版本，如 ASS2, ASS3 等。这些在开发中没有整合出最终版本，因此没有官方的相关具体说明文件，也没有得到广泛使用。而它新增的一些代码和改动，可以为 VSFilter 2.39 以上的版本识别和使用。虽不推荐在字幕发布中使用，但可用于压制中.</font></p>
<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="left">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center">边框宽度</td>
<td align="left"> \xbord &lt;字号&gt;<br>\ybord &lt;字号&gt;<br>沿 x 轴和 y 轴分别对文字边框宽度进行调整.<br> 注: <font color="#0000FF">如果在一行中用了 \xbord, \ybord 后又使用<br>\bord, 则会被 \bord 覆写.</font></td>
</tr>
<tr>
<td align="center"> 阴影深度</td>
<td align="left"> \xshad&lt;depth&gt;<br>\yshad&lt;depth&gt;<br>沿 x 轴和 y 轴分别对文字阴影深度进行调整，<font color="#0000FF">可以使用负值</font></td>
</tr>
<tr>
<td align="center">边缘模糊</td>
<td align="left"> \be &lt;强度&gt;<br>按一般模糊的倍数来模糊文字边缘，&lt;强度&gt; 必须为整数。注当强度过大时会导致文字” 消失”<br>\blur &lt;强度&gt;<br>与 \be 相似，但它用的是更加高级的高斯模糊，&lt;强度&gt; 可以为非整数。注意过高的值可能占用过多系统 CPU</td>
</tr>
<tr>
<td align="center"> 文字倾斜</td>
<td align="left"> \fax &lt;因数&gt;<br>\fay &lt;因数&gt;<br>沿 x 轴和 y 轴分别对文字行进行倾斜调整. &lt;因数&gt; 可以为负数。如 \fax-0.5 等同于斜体. <br>(注：一般情况下因数的绝对值不要超过 2)</td>
</tr>
<tr>
<td align="center"> 卡拉 OK</td>
<td align="left">\kt &lt;时间长度&gt;<br>传统的卡拉 OK 模式是从左至右，依次填充音节。而 \kt &lt;时间长度&gt; 重新定义了该音节开始填充的时间<br>&lt;时间长度&gt; 是指该音节从整行开始过了多长时间后开始填充.<br>例如 {\k10} 一 {\kt30\k10} 二 {\kt10\k10} 三<br>先填充” 一”, 过了 0.1 秒后” 一” 填充完毕，开始填充” 三”, 又过了 0.1 秒” 三” 填充完毕，再过了 0.1 秒 (一行开始后 0.3 秒) 开始填充” 二”</td>
</tr>
<tr>
<td align="center"> 动态风格</td>
<td align="left"> \t ([&lt;时值 1&gt;, &lt; 时值 2&gt;, ] [&lt; 加速度 &gt;,] &lt; 风格代码 &gt;)<br>除了原有的风格，新增了以下的代码也可以使用 {\t} 动态转变效果<br>\fax \fay \be \blur \xbord \ybord \xshad \yshad \iclip<br>(注：对于 \clip 和 \iclip, 只有矩形框才能使用动态效果，绘画图形不能使用动态效果)</td>
</tr>
<tr>
<td align="center"> 图形蒙板</td>
<td align="left"> \iclip(&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;)<br>\iclip ([&lt;等级&gt;,] &lt; 绘图命令 &gt;)<br>\iclip 与 \clip 相似，所有参数与命令都一致，但效果相反，即在图形区域内的文字不可见，以外的文字可见.<br>注：当 \iclip 和 \clip 出现在同一行时，所有的图形效果都会当成”\iclip” 处理.</td>
</tr>
<tr>
<td align="center"><font color="#0000FF"> 另注:</font></td>
<td align="left"></td>
</tr>
</tbody></table>
<p>所有的坐标值不再局限使用整数，可以使用小数.<br><br>一行的开始，结束时间，以及卡拉 OK 的时间可以使用更加精准的时间 (原 SSA, ASS 都只精确到 0.01 秒)&lt; 未验证 &gt;</p>
<h4 id="内嵌的字体-图片编码"><a href="#内嵌的字体-图片编码" class="headerlink" title="内嵌的字体/图片编码"></a><em>内嵌的字体 / 图片编码</em></h4><blockquote>
<p>SSA 所使用的内嵌字体 / 图片编码是 UUE-encoding 的一种形式. (因极少用到，以下仅引用原文)<br>It takes a binary file, three bytes at a time, and converts the 24bits of those bytes into four 6-bit numbers. 33 is added to each of these four numbers, and the corresponding ascii character for each number is written into the script file.<br>The offset of 33 means that lower-case characters cannot appear in the encoded output, and this is why the “filename” lines are always lower case.<br>Each line of an encoded file is 80 characters long, except the last one, which may be shorter.<br>If the length of the file being encoded is not an exact multiple of 3, then for odd-number filelengths, the last byte is multiplied by hexadecimal 100, and the most significant 12 bits are converted to two characters as above. For even-number filelengths, the last two bytes are multiplied by hexadecimal 10000, and the most significant 18 bits are converted to three characters as above.<br>There is no terminating code for the embedded files. If a new [section] starts in the script, or if another filename line is found, or the end of the script file is reached then the file is considered complete.</p>
</blockquote>
<h1 id="13-自动化特效实现方式"><a href="#13-自动化特效实现方式" class="headerlink" title="13. 自动化特效实现方式"></a>13. 自动化特效实现方式</h1><p>用 ass 特效实现方法有很多。</p>
<table>
<thead>
<tr>
<th align="center">流派</th>
<th align="left">风格</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>手打流</strong></td>
<td align="left">就是直接用手调节，把所有复杂特效分解为最基本的代码，逐字，甚至一个字的不同时期，都用手写代码步步落实，全过程 Aegisub 实现</td>
</tr>
<tr>
<td align="center"><strong>套用 lua 流</strong></td>
<td align="left">就是通过现有的 lua 直接套用，来实现一些 lua 里边包含的绚丽特效 （也支持自己用 lua 代码编写自己的特效，这个其实可以归到下一类的 ）</td>
</tr>
<tr>
<td align="center"><strong>auto4 流</strong></td>
<td align="left">就是我们平时所说的 AEG 自带自动化 apply karaoke template，全过程 Aegisub 实现。</td>
</tr>
<tr>
<td align="center"><strong>TCAX 流</strong></td>
<td align="left">用一个叫 TCAX 的软件自动添加特效，支持用 python 语言自己编写特效，该方法对粒子效果支持较好。</td>
</tr>
</tbody></table>
<p>引言：你还在为逐字呈现而烦恼吗？在发现了字幕特效的呈现规律，并且掌握基本特效代码后，你依然为繁琐的手动机械添加而头疼？那么，<br>4 流是一个很好的选择。</p>
<p>4 流能够在你发现字幕特效的呈现规律、异或对特效呈现有一个大致的想法后，帮助你快速添加特效。简单来说，就是利用了特效的共性。<br><br>既然有共性，那么必然是用一个模子做出来的。<br><br>那个模版（即 template） ，就是我们需要编写的内容。<br><br>预备知识：先讲讲特效的添加吧。<br></p>
<p>以逐字呈现（<code>\alpha</code> 递变）为例：</p>
<ol>
<li>将欲添加特效的字幕打好 K 值</li>
<li>新建一个字幕行（即 右键→插入）</li>
<li>新字幕行文本处加入模板，在本例中模板为：<pre><code class="lua">{\alpha&amp;HFF&amp;\t($start,$end,\alpha&amp;H00&amp;)}
</code></pre>
</li>
<li>①将该行字幕特效注明为”template line”（输入双引号内的内容，输入完成后记得回车 ）,②把字幕行修改为 “注释” 属性。③将这行字幕的样式修改，改为与希望添加这个特效的字幕行的特效一样。如图：<br><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/02.jpg"><br>（希望所有样式名为 “镜音中文” 的字幕行都用上逐字呈现这个特效）</li>
<li>点击 自动化→apply karaoke template</li>
</ol>
<p>添加完成！</p>
<p>接下来是解释刚刚做的东西：</p>
<h4 id="1-Aegisub-在刚刚做了些什么？"><a href="#1-Aegisub-在刚刚做了些什么？" class="headerlink" title="1. Aegisub 在刚刚做了些什么？"></a>1. Aegisub 在刚刚做了些什么？</h4><p>在 apply karaoke template 之后，aegisub 将待添加特效的字幕行中的所有 {\k} 都替换为你的模板了。你可以看看刚刚生成了什么？是不是很神奇？</p>
<h4 id="2-模板的含义："><a href="#2-模板的含义：" class="headerlink" title="2. 模板的含义："></a>2. 模板的含义：</h4><pre><code class="lua">{\alpha&amp;HFF&amp;\t($start,$end,\alpha&amp;H00&amp;)}
</code></pre>
<p><code>\alpha&amp;HFF&amp;\t\alpha&amp;H00&amp;</code> 相信大家看得懂，没问题。<br>但是 $start $end 是什么？我们把他们称为内联变量。<br>在使用在 apply karaoke template 之后，其实 aegisub 还做了一件事<br>就是把 $start $end 换成了一些实际的数值，不信看看刚刚生成的字幕行？</p>
<p>那么换成的数值到底是什么？<br><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/Image_052.gif" align="left"><br><br>告诉我们，Aegisub 把 $start 换成了每个对应的字的开始时间（单位毫秒，下同）把 $end 换成了每个对应的字的结束时间</p>
<p>不信看看刚刚生成的字幕行（第三次重复了 2333）  </p>
<p>那么，是否只有 $start 和 $end 这两兄弟呢？<br>其实还有很多呢～</p>
<p>一些常用的：<br>$ldur 对应行的持续时间（你可以看到，同一行的全部 $ldur 返回的都是同一个值）<br>$x $y 对应字的 x 坐标 y 坐标<br>$si 对应字是该行中的第几个字。</p>
<p>懂英文的同学可以仔细研读这个网址最下面的表格，看看内联变量的家庭中还有那些成员。<br> <img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/Image_052.gif" align="left"><br></p>
<p>总结起来， </p>
<pre><code class="lua">{\alpha&amp;HFF&amp;\t($start,$end,\alpha&amp;H00&amp;)}
</code></pre>
<p>的含义是：<br>对于该行的每个字（在已经通过打 {\k} 将每个字的时间均分的情况下 ，从每个字的开始时间到结束时间，透明度由全透变为无。</p>
<p>** 关于每个字时间均分，我指的打 K 打成类似于这样子<br>{\K60} 那 {\K60} 就 {\K59} 是 {\K59} 名 {\K59} 为 {\K59}「{\K59} 心 {\K59}」{\K59} 的 {\K59} 程 {\K59}<br>式 （开始时间 0:00:00.00 结束时间 0:00:06.50）</p>
<h4 id="3-template-line-是什么？"><a href="#3-template-line-是什么？" class="headerlink" title="3. template line 是什么？"></a>3. template line 是什么？</h4><p>template 就是告诉 Aegisub 这一行是模板。<br>line 就是告诉 Aegisub 生成后的成品还是以行的形式表现出来。</p>
<p>这称为字幕行的修饰语 ，相当于表明了字幕行的身份，以及他的意图。</p>
<h1 id="14-Template-修饰语"><a href="#14-Template-修饰语" class="headerlink" title="14. Template 修饰语"></a>14. Template 修饰语</h1><p>不管是写 template 还是 code，都会带一些修饰语，像 template syl，code once，code line 等等，后面的 syl，line，<br>once 就是修饰语，这个很重要，因为关系作用的范围。。。虽然有些可以省略，如果省略，像 template，就会默认为 syl，而 code 则会默认为 once。下面，讲几个比较常用的吧。</p>
<h3 id="1-once"><a href="#1-once" class="headerlink" title="1. once"></a>1. once</h3><p>这个修饰语比较简单，不过只能用于 code 行，没见过有人写 template once 的。。。一般只有 code once，顾名思义就是这行代码在卡拉 ok 模板执行过程中只运行一次，并且这种代码一般都会写在其他 code 行或者 template 行的前面，并按照所声明的顺序运行。这行一般写的内容无非是自定义的函数，以便在后面的 template 里面直接调用。<br>例子：</p>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,code once,shape="m 0 0 b -4 -2 -11 -14 -1 -12 b
-1 -12 0 -10 1 -12 b 10 -15 5 -2 0 0
</code></pre>
<p>“大家喜闻乐见的图形。。。。这样只会可以直接用 shape 了。。。。不用再不断的复制那串数字。</p>
<h3 id="2-line"><a href="#2-line" class="headerlink" title="2. line"></a>2. line</h3><p>这个修饰语在 code 和 template 行都可以用，而且比较常见。不过提醒大家的是，如果 line 和 template 一块用的话，后面可以加上名字的，如果不加的话只是单纯用 template line，则没有匹配的效果，只是对相应的样式有效，嗯。。。我语言表达不好，举个例子吧，比如一个没有名字的 template line</p>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,template line,{\r\t(\$start,\$end,\bord0)}
</code></pre>
<p>这行很普通，就是单纯的改变音节的描边厚度而已。。。对所有该样式都会有效。。。但是如果是下面一种情况:</p>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,template linejumper,{\r\t(\$start,\$mid,\frz-0.1)\t(\$mid,\$end,\frz0}
</code></pre>
<p>这个是加了名字的 template line ，它只会对被命名为 jumper 的才会有效。<br>如果 line 和 code 一块用，则没有命名的情况。。。。比如：</p>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,code line,fxgroup.funky = line.actor == "funky"
</code></pre>
<p>这个主要声明了说话人是 funky，下面才会有效。。</p>
<h3 id="3-pre-line"><a href="#3-pre-line" class="headerlink" title="3.pre-line"></a>3.pre-line</h3><p>这个修饰语和 line 有点像，不过它只能和 template 一块用，也是可以加名字和不加名字的，完全和 line 一样，但是它不能和 code 一块用。</p>
<h3 id="4-Syl"><a href="#4-Syl" class="headerlink" title="4. Syl"></a>4. Syl</h3><p>估计这个最常见了，没人不知道吧，这个 code 和 template 都能用，不可加名字。例子：</p>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,template syl,{\pos(\$x,\$y)}
</code></pre>
<p>单纯指示位置。。。= =</p>
<h3 id="5-Furi"><a href="#5-Furi" class="headerlink" title="5. Furi"></a>5. Furi</h3><p>furi 大概就是 furigana 的缩写吧，假名的意思，如果你打 k 值的内容是假名，也可以用这个。</p>
<h3 id="6-All"><a href="#6-All" class="headerlink" title="6.All"></a>6.All</h3><p>顾名思义，所有都作用。。。。对整个字幕文件的每个音节。。。= =</p>
<h3 id="7-Char"><a href="#7-Char" class="headerlink" title="7. Char"></a>7. Char</h3><p>这个是 character 的缩写，用这个会对每个字产生作用，不一定是音节。。。</p>
<h3 id="8-fx-name"><a href="#8-fx-name" class="headerlink" title="8. fx name"></a>8. fx name</h3><p>这个修饰语我经常用，哈哈，奶大的东西可以控制每句话，每个字的效果的话，实际 aegisub 本身也能做到。。。例子 </p>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,template syl fx drop,{\move(\$x,\$y,\$x,!\$y+30!,\$start,\$end)}
</code></pre>
<p>上面的效果名字叫做 drop，要想实现这个效果，只要在 <code>{\k21\-drop}hi{\k10}gu{\k23}ra{\k22}shi {\k38}ga</code> 里面加上 <code>\-drop</code>, 这个效果会作用整个一句话，如果写在中间则会对后面的产生效果，前面的不会。。。</p>
<h3 id="9-keeptags"><a href="#9-keeptags" class="headerlink" title="9.keeptags"></a>9.keeptags</h3><p>这个东西也很实用，主要是打 k 值的时候，有时候自己在原句中加了一些 tags 来控制颜色，字体，但是一旦应用了 template，这些东西就消失了，这时候加上 keeptags 则不会。。。貌似不能和 char 或 multi 一块用。。。<br>例子</p>
<pre><code class="lua">template line keeptags: {\r\t(\$start,!\$start+1!,\frx40)\t(!\$start+1!,\$end,\frx0)}
karaoke: {\k21}hi{\k10}gu{\k23}ra{\k22}shi {\k38}ga {\k37\1c&amp;H0000FF&amp;}na{\k37}ku
</code></pre>
<h3 id="10-multi"><a href="#10-multi" class="headerlink" title="10.multi"></a>10.multi</h3><p>这个东西估计也有人用过，这个主要是日语里面的汉字发音往往不是占一个音节的情况，甚至用多个假名注音，这时候会这么做，老实说这个算比较高级的用法了吧，占了多个音节，高亮就会有多个。。。我一直想试试，但是因为麻烦一直没用，可以自动实现汉字头顶注假名的效果～（2001 貌似讲过。。。）<br>例子<br>template syl multi:</p>
<pre><code class="lua">{\an5\pos(\$scenter,\$smiddle)\1a&amp;HFF&amp;\t(\$start,\$end,\bord5\3a&amp;HFF&amp;)}
</code></pre>
<p>karaoke:</p>
<pre><code class="lua">{\k33}風{\k36}#{\k89}の{\k46}花{\k28}#{\k57}よ
</code></pre>
<p>风读作 kaze，两个音，多的一个用 #来占位。。。。实际可以写成 #|XX（写假名），应用之后假名会自动到汉字头上。。。一个音用一个 #。。。。风这样的两个就应该用两个，不过这个例子没要实现那种效果。。。所以只是单纯用 #占位而已。。。</p>
<h3 id="11-noblank"><a href="#11-noblank" class="headerlink" title="11. noblank"></a>11. noblank</h3><p>这个简单说一下，就是对空格无效。。。(特别提醒一下，不要小看空格)</p>
<h3 id="12-notext"><a href="#12-notext" class="headerlink" title="12. notext"></a>12. notext</h3><p>这个经常在做图形，曲线啥的效果时候用，和 template 一块用。。。<br>例子：<br>code once: </p>
<pre><code class="lua">sword_shape = "m 0 0 l 5 -5 l 5 -30 l 10 -30 l 10 -32 l 2 -32 l 2 -40 l -2 -40 l -2 -32 l -10
-32 l -10 -30 l -5 -30 l -5 -5 "
</code></pre>
<p>template syl notext noblank:</p>
<pre><code class="lua">{\an5\move(\$scenter,!\$smiddle-30!,\$scenter,\$smiddle,!\$start-20!,\$start)\p2}!sword_shape!
</code></pre>
<h3 id="13-repeat-n，loop-n"><a href="#13-repeat-n，loop-n" class="headerlink" title="13. repeat n，loop n"></a>13. repeat n，loop n</h3><p>这两个都是指定效果的重复次数的。。。。repeat 还真没用过，我一直用 loop。。。。（貌似还用过 maxloop（）的函数<br>例子  </p>
<pre><code class="lua">template syl loop 4:
{\move(\$x,\$y,!\$x+math.random(-30,30)!,!\$y+math.random(-30,30)!,\$start,\$end)\alpha&amp;Hc0&amp;\t(\$start,\$end,\ alpha&amp;HFF&amp;)}
</code></pre>
<p>这个效果就是从原来位置向上下左右大约 30 像素位置随机运动。。。。然后重复 4 次。。。。</p>
<h1 id="15-Template-内置变量"><a href="#15-Template-内置变量" class="headerlink" title="15. Template 内置变量"></a>15. Template 内置变量</h1><p>什么是内置变量？举个例子吧 Template syl</p>
<pre><code class="lua">{\pos(\$x,\$y)\t(\$start,\$end,\blur20)}
</code></pre>
<pre><code class="lua">{\k36} そ{\k20} の{\k14} 手{\k24} 伸{\k34} ば{\k28} し{\k26} て{\k137} も{\k150}{\k32} 今{\k121} は {\k29} 今{\k113}は{\k34}届{\k28}か{\k40}な{\k46}い{\k71}よ
</code></pre>
<p>自动化后 {\pos ($x,$y)} 代表每个字自动会对应相应的 pos (位置坐标)，<code>template syl</code> 提示按音节拆分句子，\t ($start,$end) 会自动对应这一行开始时间和结束时间。</p>
<p>所以变量就是这个意思，下面来说说 Aegisub 2.1.9 里有哪些变量以及代表的含义注意，所有的变量使用要加上 $ 字符，如：</p>
<pre><code class="lua">{\pos($center,$middle)}
</code></pre>
<h2 id="1-行变量"><a href="#1-行变量" class="headerlink" title="1. 行变量"></a>1. 行变量</h2><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/41.jpg"></p>
<p>这是代表原句子每一行中的变量<br>| CODE | 解释 |<br>| :—: | :— |<br>|  layer | 每一行句子的层数（layer）    |<br>|  style  | 每一行句子的样式（style）    |<br>|  actor | 每一行句子的说话人（actor），注意，popsub 等老版打轴软件打轴 actor 会变成 Name，如上图，所以要手动改回来，并且 tcax 也不支持 Name 这一表达    |<br>|  margin_l, margin_r | 每一行的对应的左边距离，右边距离  |<br>|  margin_v, margin_t, margin_b | 每一行的对应的垂直，顶部，底部距离，特别的 margin_v 与 margin_t 相同 lstart, lend, ldur, lmid：每一行句子的开始时间，结束时间，持续时间，中间点时间，单位是毫秒，特别的  |<br>|  $ldur=!line.duration! syln | 每一行的音节总数，通俗的说就是这一行有多少个 k  |<br>|  lleft, lcenter, lright | 这一行里最左侧的第一个字到左边的距离，中间到最左边距离（通常是 x 分辨率的一半），最右侧的最后一个字到左边的距离  |<br>|  ltop, lmiddle, lbottom | 跟上面相似，每一行字的上端到视频顶端的距离，中间到视频顶端的距离，下端到视频顶端的距离  |<br>|  lx, ly | 该行的 pos 坐标，受 {\an} 代码影响，通常用于 {\pos} 代码里，如 {\pos ($lx,$ly)} lwidth, lheight:, 这一行句子的像素宽度和高度，通常 lright= lleft+ lwidth  |</p>
<h2 id="2-音节变量"><a href="#2-音节变量" class="headerlink" title="2. 音节变量"></a>2. 音节变量</h2><p>首先，音节是什么？音节就是 k 所划分出的那一个或几个字，例如 <code>{\k24}夜の{\k37}空{\k52}辉{\k28}く{\k19}星</code>，夜の是一个音节，空是一个音节等等</p>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> sstart, send, smid</td>
<td align="left"> 这一行中每个音节的开始时间，结束时间，中间时间，单位是毫秒。音节由 k 划分，k 后面的时间决定变量时间。</td>
</tr>
<tr>
<td align="center">sdur, skdur</td>
<td align="left">k 的持续时间，sdur 单位是毫秒，skdur 单位是毫秒</td>
</tr>
<tr>
<td align="center"> si</td>
<td align="left"> 这一行中的 k 的数目， 它代表一个计数器，从 1 开始，通常用于拆分时间，造成时间差，如！-1000+$si*100!, 会造成一个 100 毫秒的时间差</td>
</tr>
<tr>
<td align="center"> sleft, scenter, sright</td>
<td align="left"> 跟行变量里 lleft, lcenter, lright 类似只不过每一行改变成了每一个音节，即每一个音节所指定位置的到左边的像素距离 sbottom, smiddle, stop：类似，就不说了<br>sx, sy：每个音节的坐标<br>swidth, sheight：每个音节的像素宽度和高度</td>
</tr>
</tbody></table>
<h2 id="3-全局自动变量"><a href="#3-全局自动变量" class="headerlink" title="3. 全局自动变量"></a>3. 全局自动变量</h2><p>最常用的就在这里了，适用于行里和音节里</p>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> start, end, mid</td>
<td align="left"> 音节或行的开始，结束，中间点时间</td>
</tr>
<tr>
<td align="center"> dur, kdur</td>
<td align="left"> 行或音节的持续时间，前一个单位是毫秒，后一个是厘喵 i：行或音节里的 k 数目，也是一个计数器</td>
</tr>
<tr>
<td align="center"> left, center, right</td>
<td align="left"> 行或音节所指定位置的到左边的像素距离 top, middle, bottom：行或音节所指定位置的到顶端的像素距离 x, y：行或音节的坐标</td>
</tr>
<tr>
<td align="center"> width, height</td>
<td align="left"> 行或音节像素宽度和高度</td>
</tr>
</tbody></table>
<h1 id="16-retime-函数"><a href="#16-retime-函数" class="headerlink" title="16. retime 函数"></a>16. retime 函数</h1><p>例子：</p>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:00.00,op-jp,,0000,0000,0000,templatesyl noblank,
!retime("start2syl",-200+syl.i*30,0)!{\an5\fs1\pos(\$center,\$middle)\t(0,250,\fs34)}
</code></pre>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:00.00,op-jp,,0000,0000,0000,templatenoblank,
!retime("syl",0,0)!{\an5\pos(\$center,\$middle)\t(0,!\$dur*0.2!,\rnd20)\t(!\$dur*0.2!,!\$dur*0.4!,\rnd0)\t(!\$dur*0.4!,!\$dur*0.6!,\rnd10)\t(!\$dur*0.6!,!\$dur*0.8!,\rnd20)\t(!\$dur*0.8!,0,\rnd1)}
</code></pre>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:11.64,op-jp,,0000,0000,0000,templatesyl noblank,
!retime("syl2end",0,200+syl.i*30)!{\an5\pos(\$center,\$middle)\t(!line.duration-200!,!line.duration!,\fs cx200\fscy200\bord0\blur20\alpha&amp;HFF&amp;)}
</code></pre>
<pre><code class="lua">Comment:0,0:00:07.01,0:00:07.98,op-jp,,0000,0000,0000,templatechar,
!retime("line",math.random(-300,500),math.random(1000,1500))!{\moves4(!\$scenter+math.random(-50,50)!,!
\$smiddle+math.random(-50,50)!,!\$scenter+math.random(-60,60)!,!\$smiddle+math.random(-60,60)!,!\$scenter+ math.random(-60,60)!,!\$smiddle+math.random(-60,60)!,!\$scenter+math.random(-50,50)!,!\$smiddle+math.rand om(-50,50)!)\an5\fsc!math.random(5,20)!\blur6\fad(300,500)\p1}m21 16 b 17 16 17 23 21 23 b 25 23 26 16 21
16 m 24 19 l 43 20 l 24 20 m 18 19 l0 20 l 18 20 m 20 16 l 21 0 l 22 16 m 20 23 l 21 40 l 22 23
</code></pre>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:00.00,op-jp,,0000,0000,0000,templatesyl noblank notext loop5,
!retime("line",line.duration,math.random(4000,8000))!{\moves4(\$center,\$middle,!\$center+math.random(-70, 100)!,!\$middle+math.random(-80,-50)!,!\$center+math.random(-80,50)!,!\$middle+math.random(-40,80)!,!\$cen ter+math.random(-70,50)!,!\$middle+math.random(-60,60)!)\\an5\fsc!math.random(5,20)!\blur6\fad(0,!math. random(100,700)!)\p1}m21 16 b 17 16 17 23 21 23 b 25 23 26 16 21 16 m 24 19 l 43 20 l 24 20 m 18 19 l0 20
l 18 20 m 20 16 l 21 0 l 22 16 m 20 23 l 21 40 l 22 23
</code></pre>
<pre><code class="lua">Comment:0,0:01:30.56,0:01:37.33,op-jp,NTP,0000,0000,0000,karaoke,{\k17} 目 {\k17} の {\k42} 前 {\k131} に
{\k50}    映{\k64}る{\k58}    問{\k21}え{\k15}に{\k23}い{\k65}つ{\k30}も{\k46}曖{\k39}昧{\k69}で Comment:0,0:01:37.50,0:01:45.06,op-jp,NTP,0000,0000,0000,karaoke,{\k18}そ{\k21}の{\k36}言{\k24}葉{\k84}で{\k42}        何{\k31}か{\k104}が{\k24}    か{\k33}わ{\k20}る{\k34}な{\k24}ん{\k26}て{\k48}  思{\k23}い{\k21}も{\k27}し{\k37}な{\k34}く{\k53}て
</code></pre>
<h3 id="retime：用于拆分时间，重要不可缺的一个函数"><a href="#retime：用于拆分时间，重要不可缺的一个函数" class="headerlink" title="retime：用于拆分时间，重要不可缺的一个函数"></a><strong>retime：用于拆分时间，重要不可缺的一个函数</strong></h3><p>格式：<code>retime(mode,调整时间 a,调整时间 b)</code><br>该函数通常在一个 template 或 code 中使用一次或多次。它可以以不同的方式来调整输出的每个词的开始结束时间，在做特效时经常用到。<br>mode 参数用来决定如何改变每个词的开始结束时间，它必须是下面的一个。因为它是一个字符串，所以须用半角引号将模式的名称括起来。<br>调整时间 a 和调整时间 b 参数可以在选用相应的 mode 中对开始结束时间进行调整，通常是一个以毫秒为单位的数，当然也可以用一些算式。如果数值大于 0，是向后延迟，小于 0 则是提前。</p>
<p>下面开始详解</p>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> abs 或 set</td>
<td align="left"> 两个参数功能相同。a 和 b 会从时间轴开始的时间（0:00:00.00）来确定这一词的开始结束时间，与行的开始结束时间无关。（很少用）</td>
</tr>
<tr>
<td align="center">Preline</td>
<td align="left"> 提前行的开始时间 这个参数是为了在行开始前，让一些词先开始。结束时间固定为行的开始时间，所以 b 固定为 0，可以省略。</td>
</tr>
<tr>
<td align="center">Line</td>
<td align="left"> 使用每一行的开始结束时间。a 和 b 在行的开始结束时间基础上可以改变词的开始和结束时间。</td>
</tr>
<tr>
<td align="center">start2syl</td>
<td align="left"> 是每个词的开始时间为行的开始时间，结束时间为每个词 K 的开始时间。</td>
</tr>
<tr>
<td align="center">Presyl</td>
<td align="left"> 与 preline 类似，只是结束时间换成了词 K 的开始时间。</td>
</tr>
<tr>
<td align="center">syl</td>
<td align="left"> 指的是 K 开始时间点到 K 结束时间点的一段时间。a 和 b 在词 K 的开始结束时间基础上可以改变词的开始和结束时间。</td>
</tr>
<tr>
<td align="center">Postsyl</td>
<td align="left"> 每个词开始时间为 k 的结束时间，结束时间为 k 的结束时间加上调整时间 b。a 和 b 可调整时间。</td>
</tr>
<tr>
<td align="center">syl2end</td>
<td align="left"> 每个词的开始时间为词 K 的结束时间，结束时间为行的结束时间，类似于 start2syl。</td>
</tr>
<tr>
<td align="center">Postline</td>
<td align="left"> 每一行开始时间为该行的结束时间，结束时间为该行开始时间加上调整时间 b。a 和 b 可调整时间。</td>
</tr>
</tbody></table>
<h4 id="例子分析"><a href="#例子分析" class="headerlink" title="例子分析"></a>例子分析</h4><h4 id="第一段代码："><a href="#第一段代码：" class="headerlink" title="第一段代码："></a>第一段代码：</h4><pre><code class="lua">templatesylnoblank,!retime("start2syl",-200+syl.i*30,0)!{\an5\fs1\pos(\$center,\$middle)\t(0,250,\fs34)}
</code></pre>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> template syl noblank</td>
<td align="left"> 启用 template 自动化，修饰语为 syl, 对于空格无效。意思是启动自动化模板，对卡拉 ok 的每个音节进行自动化（这个根据 k 来决定），对于歌词中的空格无效</td>
</tr>
<tr>
<td align="center"> !retime(“start2syl”,-200+syl.i*30,0)!</td>
<td align="left"> 启用 retime 函数，函数名为 start2syl（函数意思看上面 retime 解释），开始时间调整为 - 200+syl.i<em>30，结束时间不变，即为每个词的 k 的开始时间。关于 - 200+syl.i</em>30 的解释：-200 为负的 200 毫秒，syl.i 是个计数器函数，表示行中拆分字符的个数，简单来说，用 k 来分的字符有多少个，就有多少个 i 例如第一句第一个词 <strong>【目】</strong>，则开始时间为 - 200+1*30=-170，就是说提前 170 毫秒，那么开始时间就是 0:01:30.56 减去 170 毫秒（17 厘秒）=0:01:30.(56-17)=0:01:30.39，结束时间为第一个 k 的开始时间 0:01:30.56 第一句第二个词 <strong>【の】</strong>，则开始时间为 - 200+2*30=-140 ， 就是说提前 140 毫秒， 那么开始时间就是 0:01:30.56 减去 140 毫秒（ 14 厘秒）=0:01:30.(56-14)=0:01:30.42，结束时间为第二个 k 的开始时间 <strong>【0:01:30.(56+17)】</strong> =0:01:30.73… 以此类推对于所有的运算要用！运算式！半角感叹号括起来，这样 Aegisub 才知道你要进行数学运算，不扩的话按字符处理这样做的远因是为了提前每个词的显示时间用于制作入场特效，以及制造出时间差，并且为第一个字提供特效时间</td>
</tr>
</tbody></table>
<p>接着分析 ass 代码</p>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> {\an5\fs1\pos($center,$middle)\t(0,250,\fs34)}</td>
<td align="left"> 我来逐一解释 \an5，设定定位点，特效定位点用 \an5，普通字幕的大家都知道用 \an2\fs1，设置字体大小为 1\pos ($center,$middle)，获取每个字符的默认位置</td>
</tr>
<tr>
<td align="center"> \t(0,250,\fs34)</td>
<td align="left"> 动态特效在每个字符开始～250 毫秒之内字体大小动态变为 34 总结一下，初始字体大小设置为 1，然后变大为 34，现在能想象出是什么入场特效了吧？入场特效就是字幕一个接一个有无到有显现出来</td>
</tr>
</tbody></table>
<h4 id="第二段代码："><a href="#第二段代码：" class="headerlink" title="第二段代码："></a>第二段代码：</h4><pre><code class="lua">Comment:0,0:00:00.00,0:00:00.00,op-jp,,0000,0000,0000,templatenoblank,!retime("syl",0,0)!{\an5\pos($ce nter,$middle)\t(0,!$dur*0.2!,\rnd20)\t(!\$dur*0.2!,!$dur*0.4!,\rnd0)\t(!\$dur*0.4!,!\$dur*0.6!,\rnd10)\t(!$dur*0.6!,!$dur*0.8!,\rnd20)\t(!$dur*0.8!,0,\rnd1)}
</code></pre>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> template noblank</td>
<td align="left"> 启用 template 自动化 修饰语为 noblank，即特效对于空格无效，特别的：template = template syl 噗～～</td>
</tr>
<tr>
<td align="center">!retime(“syl”,0,0)!</td>
<td align="left"> 启用 retime 函数，函数名为 syl，0,0 代表不增加并且不减少开始以及结束时间</td>
</tr>
</tbody></table>
<p>接着分析 ass 代码：</p>
<pre><code class="lua">{\an5\pos($center,$middle)\t(0,!$dur*0.2!,\rnd20)\t(!$dur*0.2!,!$dur*0.4!,\rnd0)\t(!$dur*0.4!,!$dur*0.6!,\rnd10)\t(!$dur*0.6!,!$dur*0.8!,\rnd20)\t(!$dur*0.8!,0,\rnd1)}{\an5\pos($center,\$middle)}
</code></pre>
<p>设置定位点，获取每个字的中间默认位置 {\t (0,!$dur<em>0.2!,\rnd20)} ：$dur 为 k 的持续时间，!$dur</em>0.2! 为 0.2 个持续时间，就是对时间进行拆分了 5 分之 1 分， {\rnd20} 边界象素变形， 数字越大变形越大， 可自己看看效果<br> {\t(!$dur<em>0.2!,!$dur</em>0.4!,\rnd0)}, 在 5 分之 1~5 分之 2 的时间里取消边界像素变形<br>{\t(!$dur<em>0.4!,!$dur</em>0.6!,\rnd10)} ……… 类推吧….. 类推能想象到效果嘛？这个特效称之为” 表现特效” 就是唱到那个歌词时所凸显的特效，特效效果就是字的不规则变形。 </p>
<h4 id="第三段代码："><a href="#第三段代码：" class="headerlink" title="第三段代码："></a>第三段代码：</h4><pre><code class="lua">Comment:0,0:00:00.00,0:00:11.64,op-jp,,0000,0000,0000,templatesylnoblank,!retime("syl2end",0,200+syl.i
*30)!{\an5\pos(\$center,\$middle)\t(!line.duration-200!,!line.duration!,\fscx200\fscy200\bord0\blur20\al pha&amp;HFF&amp;)}
</code></pre>
<table>
<thead>
<tr>
<th align="center">CODE</th>
<th align="left"> 解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> template syl noblank</td>
<td align="left"> 这个不解释了，上面说过了！</td>
</tr>
<tr>
<td align="center">retime(“syl2end”,0,200+syl.i*30)!</td>
<td align="left"> 启用时间拆分的 syl2end 函数，省么意思 retime 的解释里有 200+syl.i<em>30 时间的拆分计算，就是第一个词结束时间加上 200+1</em>30=230 毫秒，第二个加上 200+2*30=260 毫秒以此类推</td>
</tr>
</tbody></table>
<p>下面解释 ass 代码</p>
<pre><code class="lua">{\an5\pos(\$center,\$middle)\t(!line.duration-200!,!line.duration!,\fscx200\fscy200\bord0\blur20\alpha&amp;H
FF&amp;)}\an5\pos(\$center,\$middle)
</code></pre>
<p>这个不解释了</p>
<pre><code class="lua">t(!line.duration-200!,!line.duration!，line.duration
</code></pre>
<p>为一行字的持续时间，但我们运用了 syl 拆分字符，所以一行就一个字，时间就是 k 的结束时间到这一行的结束时间， <code>duration-200!,!line.duration!</code> 就造成了在结束时有 200 毫秒的特效持续时间  </p>
<pre><code class="lua">\fscx200\fscy200\bord0\blur20\alpha&amp;HFF&amp;
</code></pre>
<p>同时在 x，y 轴扩大为原来字体的两倍，面积就增大了 2*2=4 倍。  </p>
<pre><code class="lua">\bord0\blur20
</code></pre>
<p>边框厚度变为 0，高斯模糊为 20，这样造成的特效就是字体模糊雾化，blur 值越大效果越强，<br>\alpha&amp;HFF &amp; 透明代码，造成淡出特效<br>好吧，能想象出什么效果了么，如果想象不出来，那么说明你的 ass 功底严重不足…. 噗<del>就是每个字逐个快速放大消逝</del>这个称之为 “<strong>退场特效</strong>”。</p>
<h4 id="第四段代码："><a href="#第四段代码：" class="headerlink" title="第四段代码："></a>第四段代码：</h4><pre><code class="lua">Comment:0,0:00:07.01,0:00:07.98,op-jp,,0000,0000,0000,template
char,!retime("line",math.random(-300,500),math.random(1000,1500))!{\moves4(!\$scenter+math.random(-50,5 0)!,!\$smiddle+math.random(-50,50)!,!\$scenter+math.random(-60,60)!,!\$smiddle+math.random(-60,60)!,!\$sce nter+math.random(-60,60)!,!\$smiddle+math.random(-60,60)!,!\$scenter+math.random(-50,50)!,!\$smiddle+math. random(-50,50)!)\an5\fsc!math.random(5,20)!\blur6\fad(300,500)\p1}m21 16 b 17 16 17 23 21 23 b 25 23 26
16 21 16 m 24 19 l 43 20 l 24 20 m 18 19 l0 20 l 18 20 m 20 16 l 21 0 l 22 16 m 20 23 l 21 40 l 22 23
</code></pre>
<p><code>template char</code>：启用 template，修饰语是 char（character 的缩写），意思是对每个字执行特效而不是 k 拆分出的音节</p>
<p><code>!retime("line",math.random(-300,500),math.random(1000,1500))!</code>：启用 retime 函数，函数类型为 line（行），注意，此时的开始时间与结束时间均为歌词每一行的开始于结束时间 math.random (-300,500),math.random (1000,1500），随机调整每个行的开始时间与结束时间，math.random 是产生随机数的函数，(-300,500）为随机数范围</p>
<p>下面解释 ass 代码</p>
<pre><code class="lua">{\moves4(!$scenter+math.random(-50,50)!,!$smiddle+math.random(-50,50)!,!$scenter+math.random(-60,60)!,!
$smiddle+math.random(-60,60)!,!$scenter+math.random(-60,60)!,!$smiddle+math.random(-60,60)!,!$scenter+math.random(-50,50)!,!\$smiddle+math.random(-50,50)!)\an5\fsc!math.random(5,20)!\blur6\fad(300,500)\p1}   m21 16 b 17 16 17 23 21 23 b 25 23 26 16 21 16 m 24 19 l 43 20 l 24 20 m 18 19 l0 20 l 18 20 m 20 16 l 21
0 l 22 16 m 20 23 l 21 40 l 22 23\moves4(x1,y1,x2,y2,x3,y3,x4,y4,t1,t2)
</code></pre>
<p>4 次贝塞尔曲线，<code>x1,y1,x2,y2,x3,y3,x4,y4</code> 为控制点坐标，<code>t2</code>，<code>t2</code> 为控制时间，与 move 代码类似四个 p 点即代表 <code>x1,y1,x2,y2,x3,y3,x4,y4</code> 为控制点坐标 <code>!$smiddle+math.random(-50,50)! </code>，获取默认中心坐标并且加上随机获得的随机数即为计算后 x1 坐标 <code>!$smiddle+math.random(-60,60)!</code>，获取默认中心坐标并且加上随机获得的随机数即为计算后，y1 坐标以此类推获取最后一个定位坐标没有写 t1，t2 时间，默认就是此行时间<br><code>{\fsc!math.random(5,20)!\blur6\fad(300,500)\p1}m 21 16 b 17 16 17 23 21 23 b 2523 26 16 21 16 m 24 19 l43 20 l 24 20 m 18 19 l 0 20 l 18 20 m 20 16 l 21 0 l22 16 m 20 23 l 21 40 l 22 23：\fsc!math.random(5,20)!</code> 为随机全局缩放，百分比为 5-20 中的一个，<code>blur6</code>，<code>\fad(300,500)</code> 就不要解释了吧<br><code>{\p1}m 21 16 b 17 16 17 23 21 23 b 25 23 26 16 21 16 m 24 19 l 43 20l 24 20 m 18 19 l 0 20 l 18 20 m 20 16 l 21 0 l 22 16 m 20 23 l 21 40 l 22 23</code>，矢量绘图代码，图形是个十字交叉的星星（？反正看起来像）<br>\fsc!math.random 的目的是缩放此图形，因为为附加特效，不能够比子还大对吧～还有 {\p1} 代码，原始缩放等级不知道去看 ass 代码详解这个附加特效效果就是每行有多少字产生多少个星星，按照 4 次贝塞尔曲线移动</p>
<h4 id="第五段代码："><a href="#第五段代码：" class="headerlink" title="第五段代码："></a>第五段代码：</h4><pre><code class="lua">Comment:0,0:00:00.00,0:00:00.00,op-jp,,0000,0000,0000,template syl noblank notext loop5,!retime("line",line.duration,math.random(4000,8000))!{\moves4(\$center,\$middle,!\$center+math.random(-70, 100)!,!\$middle+math.random(-80,-50)!,!\$center+math.random(-80,50)!,!\$middle+math.random(-40,80)!,!\$cen ter+math.random(-70,50)!,!\$middle+math.random(-60,60)!)\\an5\fsc!math.random(5,20)!\blur6\fad(0,!math. random(100,700)!)\p1}m21 16 b 17 16 17 23 21 23 b 25 23 26 16 21 16 m 24 19 l 43 20 l 24 20 m 18 19 l0 20 l 18 20 m 20 16 l 21 0 l 22 16 m 20 23 l 21 40 l 22 23
</code></pre>
<p><code>template syl noblank notext loop 5：</code>前面大家都懂，按音节产生每一行，有多少音节就有多少行，对文字，空格无效，与上面的代码正好相反， loop 5 表示此代码循环执行 5 次，，后面的和第四段代码差不多，就是时间控制上有不同，为了让星星飞的更久一点～哈<br><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/05.jpg"></p>
<h1 id="17-remember-amp-recall-函数"><a href="#17-remember-amp-recall-函数" class="headerlink" title="17. remember &amp; recall 函数"></a>17. remember &amp; recall 函数</h1><p>说白了，这个函数就是允许你将一个特定的数值赋给你声明的变量。之后你就可以通过调用这个变量来获取原来的数值。<br><br></p>
<h4 id="例一："><a href="#例一：" class="headerlink" title="例一："></a>例一：</h4><pre><code class="lua">template line,{!remember("a",50)!}{\fs!recall.a!\fsp!recall.a!
</code></pre>
<p>套用至： <code>{\k29}清{\k29}明{\k29}时{\k29}节</code><br>效果：<code>{50}{\fs50\fsp50}清{50}{\fs50\fsp50}明{50}{\fs50\fsp50}时{50}{\fs50\fsp50}节</code><br>意思即将 50 赋值给 a（要用双引号引起来），之后只要调用 a（调用格式→<code>recall.a</code>）就可以获得 50 这个值注意：<code>!remember("a",50)!</code> 要用大括号框住的原因是，如果撤掉大括号，数值就会显示在字幕内容之上。</p>
<p>当然，我更习惯这样做：<br><code>template line,{\fs!remember("a",50)!\fsp!recall.a!}</code><br>套用至： <code>{\k29}清{\k29}明{\k29}时{\k29}节</code><br>效果：<code>{\fs50\fsp50}清{\fs50\fsp50}明{\fs50\fsp50}时{\fs50\fsp50}节</code>看起来简单，美观。  </p>
<h4 id="例二："><a href="#例二：" class="headerlink" title="例二："></a>例二：</h4><pre><code class="lua">template line,{!remember("qingming","xiayu")!}!recall.qingming!
</code></pre>
<p>套用至：<code>{\k29}清{\k29}明{\k29}时{\k29}节</code><br>效果：<code>{xiayu}xiayu清{xiayu}xiayu明{xiayu}xiayu时{xiayu}xiayu节</code><br>意思是将 xiayu 这五个字符赋值给名为 qingming 的变量，之后只要通过！recall.qingming! 调用，Aeg 娘就会显示 xiayu 这串字符</p>
<p>此例说明，变量不仅可以记录数值，还可以记录字符，不过字符要用双引号引起来。</p>
<p>温馨提示：</p>
<ol>
<li><p>用 remember 函数记录的变量只能在本行内调用。诸如</p>
<pre><code class="lua">template line,{!remember("a",50)!}
template line,{!recall.a!}
</code></pre>
<p> 隔行的调用是不会成功的。所以请尽量把代码写在一行之内。</p>
</li>
<li><p>你现在可能觉得这个函数没什么作用。但随着研究的深入，特别是在引入随机数后，你会发现他的用处会很大！</p>
</li>
</ol>
<h1 id="18-random-函数"><a href="#18-random-函数" class="headerlink" title="18. random 函数"></a>18. random 函数</h1><p>想必这是 Aegisub 里边最重要的函数了吧。<br>模板是固定的，你套用什么代码就会出现什么特效，只听你的指挥<br>但随机数却是活的，当你输入一个随机数的范围，Aeg 娘却会为你生成它随机想到的数值！</p>
<p>随机数在特效的各个方面都获得了广泛地应用，且听我慢慢道来。</p>
<p>例：</p>
<pre><code class="lua">template syl,{\pos($x,$y)\fs!math.random(30,50)!}
</code></pre>
<p>套用至：<code>{\k29}清{\k29}明{\k29}时{\k29}节</code><br>效果：<code>{\pos(613,710)\fs30}清{\pos(631,710)\fs49}明{\pos(649,710)\fs37}时{\pos(667,710)\fs32}节</code><br>注意 <code>!math.random(30,50)!</code> 的部分，他的意思是，生成一个 30 <del>50 之间的随机数。<br>正如你所见，Aeg 娘在套用模板时将 <code>!math.random(30,50)!</code> 换成了 30</del>50 之间的随机数。</p>
<p>此例意思为字体大小为 30~50 之间，随机。</p>
<p>注意，<code>math.random</code> 是不能生成小数的，所以你可以采用这样的方法： <code>!math.random(35,57)/10!</code></p>
<p>温馨提示：<br>当 Aeg 娘生成的随机数不理想时，你是否会重新点一次 <code>apply karaoke template</code> 来调教她，生成一个理想的随机数？结果发现，生成的结果是一模一样的！</p>
<p>这和随机数的生成算法有关，只要你定下生成的值域，其实所谓的随机数已经定下来了。<br>Aeg 娘也是根据一定的算式生成随机数的。</p>
<p>为了解决这个问题，教一些超纲的东西（代码有两行）： </p>
<pre><code class="lua">code,math.randomseed(60)
template line,{\fs!math.random(30,50)!}
</code></pre>
<p>其精髓是上面一行，其修饰语为 code，为 Aeg 娘种下了大小为 60 的随机数种♂子，随着种♂子数值的变更，<code>!math.random(30,50)!</code> 生成的随机数也不一样。你就可以更改种♂子的数值（一般在生成随机数的范围的几倍以内，不要太大），来获取理想的数（孩）值（子）了。</p>
<h1 id="19-其他函数"><a href="#19-其他函数" class="headerlink" title="19. 其他函数"></a>19. 其他函数</h1><h2 id="1-relayer"><a href="#1-relayer" class="headerlink" title="1. relayer"></a>1. relayer</h2><p>语法:<code>relayer(newlayernumber)</code><br>作用：改变套用该行模板所产生新行的层数，如果要使所产生行的层数都是一样的，可以只需在模板行设置一下模板行的层数，所有套用该模板行所产生的新行，会自动复制模板行的层数。<br>例子:</p>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,template syl,!relayer(syl.i)!
</code></pre>
<h2 id="2-restyle"><a href="#2-restyle" class="headerlink" title="2. restyle"></a>2. restyle</h2><p>语法:<code>restyle(newstylename)</code><br>作用：改变套用该行模板所产生新行的样式名称， 注意只是改名称， 不是将原样式复制以后重新命名， 同时<br>line.styleref 也将指向新样式，新改的样式名称需提前在样式库里设置好。在模板运行时改为新样式，模板所套用的大小与位置信息还是由原来的样式决定。<br>例子：无</p>
<h2 id="3-maxloop"><a href="#3-maxloop" class="headerlink" title="3. maxloop"></a>3. maxloop</h2><p>语法:<code>maxloop(maxloopnumber)</code><br>作用：动态控制模板行的循环次数<br>例子:</p>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:00.00,Default,,0,0,0,Template syl,
!maxloop(syl.width2*line.styleref.outline)!{\clip(!line.left+syl.left-line.styleref.outline+j-1!,0,!li ne.left+syl.left-line.styleref.outline+j!,!meta.res_y!)\an5\move(!line.left+syl.center!,!line.middle!,
!line.left+syl.center!,!line.middle+math.random(-20,20)!,$start,$end)\shad0}
</code></pre>
<p><code>maxloop(syl.width + 2*line.styleref.outline) </code>：控制循环次数，为 syl 的像素宽度与两倍边框值的和<br><code>\clip(!line.left+syl.left-line.styleref.outline+j-1!,0,!line.left+syl.left-line.styleref.outline+j!,!m eta.res_y!) </code>做该字的像素宽度个矩形切割（矩形宽度为一，高度为视频的高度）<br><code>line.left+syl.left-line.styleref.outline</code> 为该所有 syl 像素的最左边 (为什么这里 <code>line.left</code> 还要加上 <code>syl.left </code>因为 <code>syl.left</code> 是一个相对值，相对于 line.left )<br><code>meta.res_y </code>：视频纵向长度<br>`\move (!line.left+syl.center!,!line.middle!,!line.left+syl.center!,!line.middle+math.random (-20,20)!,$s tart,$end)``：纵向垂直随机移动</p>
<h2 id="4-loopctl"><a href="#4-loopctl" class="headerlink" title="4. loopctl"></a>4. loopctl</h2><p>语法:<code>loopctl(newj, newmaxj)</code><br>作用：动态改变控制循环的变量 <code>j</code> 和 <code>maxj</code>。``j <code>与</code> maxj<code>，为使用修饰符</code> loop <code>时，</code>j <code>为当前循环的次数，</code>maxj <code>为最大的循环次数也就是</code> loop` 后面所跟的数字，一般用不到<br>例子:  </p>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,template syl noblank notext loop 10,!j! !maxj! !loopctl(j+1,maxj)!
</code></pre>
<pre><code class="lua">Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,template syl noblank notext loop 10,!loopctl(j+1,maxj)!!j! !maxj!
</code></pre>
<p>两个例子都是将 <code>j</code> 加一以后重新赋值给 <code>j</code>，事实上运行时，``j <code>的值会每次加</code> 2<code>，因为本身执行时计数会回加</code> 1`。注意上面两个结果的例子的结果是不一样的。</p>
<h1 id="20-自动化添加文字顶注释"><a href="#20-自动化添加文字顶注释" class="headerlink" title="20. 自动化添加文字顶注释"></a>20. 自动化添加文字顶注释</h1><p>aegisub 自动化后大家经常会忽视掉一个自动生成的 style<br><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/42.jpg" align="left"><br><br><br><code>Default-furigana</code>, 这东西就可以自动表顶注，实现时使用 <code>furi template furi</code><br>样式是: <code>x|xx</code></p>
<p>上面的特效例子增加三句即可 </p>
<pre><code class="lua">Comment:0,0:00:00.00,0:00:05.00,Default,,0,0,0,Template syl,
!retime("start2syl",-100+syl.i*30,0)!{\pos(\$scenter,\$smiddle)\an5\alpha&amp;HFF&amp;\t(0,500,\alpha&amp;H00&amp;)} Comment:0,0:00:05.00,0:00:05.00,Default,,0,0,0,template syl multi,
!retime("syl",0,300)!{\pos(\$scenter,\$smiddle)\an5\bord5\blur5\t(0,50,\fscx130\fscy130)\t(50,\$dur,\fscx 100\fscy100\bord0\blur0)}
Comment:0,0:00:05.00,0:00:05.00,Default,,0,0,0,template syl,
!retime("syl2end",0,100+syl.i*30)!{\pos(\$scenter,\$smiddle)\an5\alpha&amp;H00&amp;\t(!line.duration-500!,!line. duration!,\alpha&amp;HFF&amp;)}
Comment:0,0:00:00.00,0:00:05.00,Default,,0,0,0,template furi,
!retime("start2syl",-100+syl.i*30,0)!{\pos(\$scenter,\$smiddle)\an5\alpha&amp;HFF&amp;\t(0,500,\alpha&amp;H00&amp;)} Comment:0,0:00:05.00,0:00:05.00,Default,,0,0,0,template furi,
!retime("syl",0,300)!{\pos(\$scenter,\$smiddle)\an5\bord5\blur5\t(0,50,\fscx130\fscy130)\t(50,\$dur,\fscx 100\fscy100\bord0\blur0)}
Comment:0,0:00:05.00,0:00:05.00,Default,,0,0,0,template furi,
!retime("syl2end",0,100+syl.i*30)!{\pos(\$scenter,\$smiddle)\an5\alpha&amp;H00&amp;\t(!line.duration-500!,!line. duration!,\alpha&amp;HFF&amp;)}
Dialogue: 0,0:00:05.00,0:00:07.00,Default,,0,0,0,karaoke,{\k33}風|kaze{\k33}の{\k46}花|hana{\k57}よ
</code></pre>
<img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/06.jpg" align="left">
<br>
<br>
<br>
<br>

<p>然后，大家拿出自己的特效脚本 ，按照方法修改<br>有兴趣可以自己替换 <code>{\k50}youkaze|四月老师组长大人</code><br>如果生成如下效果，说明你成功了  </p>
<img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/07.jpg" align="left">
<br>
<br>
<br>
<br>

<h1 id="21-ASS-滚动字幕"><a href="#21-ASS-滚动字幕" class="headerlink" title="21. ASS 滚动字幕"></a>21. ASS 滚动字幕</h1><p>在 Aegisub 中可以如下设定（在特效栏输入 <code>Banner;2;0;50</code>）</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="center">Banner;2;0;50</td>
<td> 第一个数字代表速度；数字越小速度越快<br>第二个数字 0 代表字幕从右往左走，1 代表从左往右走<br>第三个数字代表字幕滚动到屏幕边缘的透明度，实践证明 50 为好</td>
</tr>
</tbody></table>
<p>（以下不知道原文具体出自何处）<br>用记事本打开 ASS 文件。找到你之前做滚动的那句话。我们这里用塔塔曾经用过的例子来看。在 ASS 中会出现如下的效果.</p>
<pre><code class="lua">Dialogue: 0,0:00:00.00,0:05:00.00,*Default,NTP,0000,0000,0000,Banner;15, {\an8}本字幕由XX字幕组倾情制作
，仅限于用做学习交流，请勿用于商业用途，如发生纠纷，与本字幕组及其所属论坛无关。
</code></pre>
<p> <code>0:00:00.00,0:05:00.00</code>：    这个就是你做的时间轴，前半段是出现时间，后半段是结束时间。根据具体情况，可做调整。时间一到，滚动字幕不管有没滚完都会强制结束，这点请注意.</p>
<p><code>*Default,NTP,0000,0000,0000,</code>： 用我们老师的话来说.” 不要去想它….” 这里不要乱动就行.</p>
<p><code>Banner;15</code>：  15 代表的是速度，数字越小，速度越快，0 的话，基本就不是人看的东西了。一般选用 10-15 左右的速度，在 20-40 秒能滚完。有人会问了，之前副组写的教程里，不是这样的格式啊，而是 <code>Banner;15;0;50</code> 啊。没错，不过这是他手动修改好了的。我们在一开始打开 ASS 文件的时候，看到的只有 <code>Banner;15</code>. 那么 <code>Banner;15;0;50</code> 又是什么意思？</p>
<p><code>Banner;15;0;50</code>： 其中，第一个数字 15 代表的就是速度。我们不再提它。第二个 0 代表的是从右向左滚动，改成 1 的话，会变成从左向右滚。最后一个 50 代表的是滚动字幕在屏幕边缘的透明度。一般用 50 就好，别去改它。特别需要注意的是，这几个数字之间，必须要有；隔开.</p>
<p>最后出现的效果就是这样.</p>
<pre><code class="lua">Dialogue: 0,0:00:00.00,0:05:00.00,*Default,NTP,0000,0000,0000,Banner;15;0;50, {\an8}{\fs30}本字幕由XX字幕组倾情制作，更多精彩游戏视频请关注XX字幕组 字幕组交流群：XXXXXXXX 片源：XX，翻译：XX，校润：XX, 后期：XX
</code></pre>
<p>诶？是不是多了什么？没错，在置顶代码之后多了一个代码 {\fs30}, 这个是强制规定字号的代码。因为一般上屏滚动用的字号会与整体字幕有所区别，所以会用到它.30 代表的就是字号，根据需要可任意更改.</p>
<h4 id="总体回顾"><a href="#总体回顾" class="headerlink" title="总体回顾"></a>总体回顾</h4><p>首先是两个代码<br><code>{\an8}</code>〈— 置顶代码，作用是将此代码之后的文字放置于屏幕顶端<br><code>{\fs30}</code>〈— 字号代码，作用是改变字号的大小。</p>
<p>接着，PUP 的工作很简单。插入代码–&gt; 右键 [滚动]–&gt; 滚动方式选择.</p>
<p>最后是 ASS 里的工作。手动修改 <code>Banner;15;0;50</code> 其中 15 为速度，0 为滚动方式，50 为滚动字幕在屏幕边缘的透明度.</p>
<h1 id="22-自动化添加代码"><a href="#22-自动化添加代码" class="headerlink" title="22. 自动化添加代码"></a>22. 自动化添加代码</h1><p>动漫 OP ED 以及 MV 中，中文字幕如果想加特效的话需要单独分 k 值，懒人如果不想那么麻烦就去用 tcax tools 文件夹中的<br>KASS.exe 工具，它可以自动分 line 的 k 值，如果不加特效的话一般会加入 fad 等代码效果来配合特效字幕的 in 和 out 方式，有时候也会加 bord blur 来使中文字幕更加漂亮。所以如果字幕少还好，可以一句句在 ASS 里每行左边复制粘贴，如果碰到懒人，如果同时又碰到 line 超多的那种，你想一句句复制也没人说啥，但是如果我们有其他办法可以方便的达到目的的话….</p>
<p>例子:<br><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/08.jpg"></p>
<p>如上图字幕 (随意打的), 我们的目标是让每行出现 <code>{\fad(200,200)\bord4\blur4}</code> 效果</p>
<p>字幕最上面一行右键，插入一空白行 (之前), 自行键入代码</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/09.jpg"></p>
<p>最左面不要忘记打钩 [凡是要引用特效是都要打钩],<code>template,!retime("line",0,0)!{\fad(200,200)\bord4\blur4}</code></p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/10.jpg"></p>
<p>然后 自动化生成。之后预览下就会得到我们所需的效果</p>
<h1 id="23-LUA-代码应用"><a href="#23-LUA-代码应用" class="headerlink" title="23. LUA 代码应用"></a>23. LUA 代码应用</h1><p>首先，打开 aeg，如图：  </p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/11.jpg"></p>
<p>自动化（说白了，就是<br>4 的产物吧，吐槽而已。。。。- -）/ 加入，把那个 lua 加进来就好。。。。</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/12.jpg"></p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/13.jpg"></p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/14.jpg"></p>
<p>然后，再打开自动化。。。能看到多一个了吧。。。</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/15.jpg"></p>
<p>打开是这个界面</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/16.jpg"></p>
<p>下面我快速讲一下，估计大家都很面熟。。。。都是些基础的东西。。。</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/17.jpg"></p>
<ol>
<li><p>应用于何种样式</p>
<p> <img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/18.jpg"></p>
</li>
<li><p>选择的特效种类，有两种，一个是默认的，一个是高级的，默认就是纯字效果，高级的会加上图形特效，在这个 lua 里面统称为曲线（这也很好理解，所有的图形都可以广义的规成曲线。。。）</p>
<p> <img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/20.jpg"></p>
</li>
<li><p>字的颜色，边框，阴影及不透明度（这个不用讲了吧）</p>
</li>
<li><p>边框粗细，倾斜。。。- -</p>
</li>
<li><p><code> no blank</code> 就是是否应用于空格，<code>no curve</code> 就是是否还有图形效果，纯字就打勾吧，后面的层是设置前后顺序的，简单点说，就是你的字是在图形上面还是下面，自行设层。。。（实际这块有经验的就知道可以做好多层的）</p>
</li>
<li><p>内置了一些入场和高亮的特效，都很常见，不过的确省了不少事，这样就可以专心玩高端的图形了（偷懒去屎～</p>
<p> <img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/21.jpg"><br> <img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/22.jpg"></p>
</li>
<li><p>当然这里还是要照顾高端玩家的，这里可以写自己的特效，但是这里要填的特效要写出字符串，加上单引号，然后用转义字符，大神都懂的，不解释了。。。（后面我会举例的，表慌～<br>然后，点应用<img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/23.jpg">，如果是纯字的，就到此为止了，如果是选高级的话，还远远没完。。。（好累。。</p>
</li>
</ol>
<p>高级会出现这个界面</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/24.jpg"></p>
<p>（哎，又要解释。。。稍微说一下吧。。。</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/25.jpg"></p>
<ol>
<li>为图形的函数，而且是参数方程，高数大家都被折磨过，不解释了（可以设为 0，如果根本不需要的话。。。需要方程的原因，做曲线吗，贝塞尔啥的。。。）</li>
<li>特效是用于音节还是行<img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/26.jpg">，loop 当然就是循环次数了。。。（我的机器就怕 loop 和 clip，机器渣啊。</li>
<li>x，y 的运动范围，还可以选择是否反向运动。。。（看到参数范围了吧，这个一般是从小到大的，但是可以反过来，这个我喜欢。。。</li>
<li>设置起始时间，持续时间，速度，还有是否淡入淡出。。。（我感觉我好啰嗦。。。</li>
<li>图形代码</li>
<li>设置图形大小，颜色（有是否线性，你自己看着办吧），还有随机色。。。起始，结束都可以设。。。</li>
<li>设置中心位置和运动效果。。。</li>
</ol>
<p>完了就点，应用吧，骚年，你以为完了吧，一般是这样，但是细心的都发现如果设置图形层的位置和旋转点的位置并没有，废话，当然有，不过如果需要才会有。。。好吧，这跟中心点的设置有莫大关系，设了当然还有。。。<br>如果有的话，骚年，会出现这个界面</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/27.jpg"></p>
<p>看到这个界面的往往就是比较高端了，这个自己看也明白吧，我就说一下那个， more curve 好了，因为这个比较碉堡<br>，说简单点就是可以反复添加新的图形效果。。。只要你机器比较土豪。。。</p>
<h1 id="24-ASS-Draw3-简要教程"><a href="#24-ASS-Draw3-简要教程" class="headerlink" title="24. ASS Draw3 简要教程"></a>24. ASS Draw3 简要教程</h1><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/28.jpg"></p>
<h2 id="一、Canvas（画布菜单）各项说明"><a href="#一、Canvas（画布菜单）各项说明" class="headerlink" title="一、Canvas（画布菜单）各项说明"></a>一、Canvas（画布菜单）各项说明</h2><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/29.jpg"></p>
<p>①. 清除 —— 清除画布上的图案。</p>
<p>②. 预览 —— 预览已画好的图案。</p>
<p>③. 变形 —— 打开变形模板，在各个参数处输入数值可使图形变形。或直接使用下拉菜单处的模板可以进行一些简单的移动、角度变换、翻转等。各数值参照下面的公式。</p>
<p>④. 粘贴 —— 此处粘贴内容只会显示在下面的命令栏里，而不会粘贴到画布中。</p>
<p>⑤、⑥两项就不用解释了吧。</p>
<h2 id="二、Mode（模式菜单）各项说明"><a href="#二、Mode（模式菜单）各项说明" class="headerlink" title="二、Mode（模式菜单）各项说明"></a>二、Mode（模式菜单）各项说明</h2><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/30.jpg"></p>
<p>①. 拖动模式 —— 可对画布中的已存在的顶点和中心（即十字标）进行拖动。</p>
<p>②. 移动模式 —— 非常让新手混淆的模式。在此模式下，每点击一次鼠标就会产生一个新的顶点。如果先选中已有的顶点再进行操作，移动的其实是新产生的顶点。</p>
<p>③. 直线模式 —— 顾名思义，画直线使用。</p>
<p>④. 贝塞尔曲线模式 —— 画曲线使用，更多的时候是用在勾勒图案的轮廓上。相当重要的一个模式。想要画出好的图案，此模式必须熟练掌握。</p>
<p>⑤. 删除模式 —— 删除画布中的顶点。与 Move 正相反，一个是产生新的顶点，一个是删除已有的顶点。但要注意的是，必须先选中此模式才能删除顶点。<br>其它模式下先选中顶点再选择此模式或点击删除工具是无效的。</p>
<p>⑥. 扩大缩小 / 变更角度 —— 在此模式下，所有的图案都会被一个矩形框框起来，此时用鼠标左键拖动四个角的点，可扩大或缩小画布中的图案，而用右键在画布的任何位置都可改变图案的角度（即旋转图案）。</p>
<p>另外还一点需要说明的是，如果画布的缩放是 100%（即滑块在最左端），那么画布中图案的大小即为反映到 ASS 文件中的大小；但一般情况下 100% 对于画图来说是很不方便的。因此初学者容易犯的另一个错误就是：以为画布图案的放大即为实际图案的放大。其实只有在此模式下放大或缩小的图案才能体现在 ASS 特效中。</p>
<p>⑦. 双线性变形模式 —— 与第 6 项类似，选中此项后，图案同样会被矩形框框起来，鼠标左键拖动四个角上的点可进行双线操作。具体效果请图例。（效果图）</p>
<p>双线操作效果图</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/31.jpg"></p>
<h3 id="三、Background（背景操作菜单）"><a href="#三、Background（背景操作菜单）" class="headerlink" title="三、Background（背景操作菜单）"></a>三、Background（背景操作菜单）</h3><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/32.jpg"></p>
<p>注意：把外部图片拖入画布中后，2-5 项才会开启</p>
<p>①. 画布扩大缩小 —— 此项为默认选中，也只有选中此项后才可对画布进行缩放。</p>
<p>②. 背景扩大缩小 —— 扩大或缩小背景图案。勾勒图案的轮廓时经常使用。</p>
<p>③. 设定背景的透明度 —— 如果 Ask for image opacity 没有钩选，图片将会被直接载入。此时可选择此项来设置或变更背景图案的透明度。</p>
<p>④. 设定中心点在背景图案中的位置 —— 可设定 5 个位置，分别是：左上、右上、中心、左下、右下。<br>除中心点外，其余 4 个位置指的是背景图案边框的四个角。</p>
<p>⑤. 移除背景图案 —— 注意，此操作不可逆，移除后 Ctrl+Z 无法恢复，只能重新载入。</p>
<h3 id="四、Workspace（工作区）"><a href="#四、Workspace（工作区）" class="headerlink" title="四、Workspace（工作区）"></a>四、Workspace（工作区）</h3><p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/33.jpg"></p>
<p>①. 收藏图形 —— 打开图形收藏栏</p>
<p>②. 设置 —— 打开设置栏。而设置栏的各项说明会单独做图解。</p>
<p>③. 工具条 —— 控制工具条内各个工具的显示状态。菜单从上到下依次为：<br>　　　　　　　Canvas  是否显示画布操作按钮（Clear、preview、滑块）；<br>　　　　　　　Drawing    是否显示绘图操作按钮（Draw 至 Bilinear）；<br>　　　　　　　Background        是否显示背景操作按钮（Pan drawing、Pan background）； Show all    显示所有按钮；<br>　　　　　　　Hide all    隐藏所有按钮；<br>　　　　　　　Dock all    让分散的按钮重新回归工具条； Undock all        分离所有按钮。</p>
<p>④. 设定中心在画布的位置 —— 与设定背景图案的位置类似，也是左、右上、中心、左下、右下 5 个方位，除中心点外，其余 4 个位置指的是画布的四个角。</p>
<h3 id="五、Help（帮助菜单）"><a href="#五、Help（帮助菜单）" class="headerlink" title="五、Help（帮助菜单）"></a>五、Help（帮助菜单）</h3><p>① .Manual（帮助手册）—— 本来这项不必说明的，但为了教程的完整还是加上了。<br>另外，想要更好地了解和掌握 ASSDraw，这本最权威的官方手册应该会有很大帮助。</p>
<p>② .About（关于）—— 软件的介绍及版本说明。</p>
<h4 id="画布操作详解"><a href="#画布操作详解" class="headerlink" title="画布操作详解"></a>画布操作详解</h4><ol>
<li><p>画布空白处</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">鼠标左键</td>
<td align="left"> Drag    单击无任何操作，按住左健拖动可圈选顶点。<br>Move 单击：曾加新的顶点（即画图命令栏多一个 m），按住左健拖动则会移动当前创建的顶点。<br>Line    如果画布上已存在顶点，单击将会与最后一个顶点连成线条。否则会创建一个顶点（仅此一次）。按住左健拖动则会创建一条直线。<br>Bezier 与 Line 模式相同。<br>Delete、Scale/Rotate、Bilinear 在空白处没有任何操作。</td>
</tr>
<tr>
<td align="center">鼠标右键</td>
<td align="left">单击无任何操作。按往右键拖动则是移动画布或背景图案（Scale/Rotate 模式除外），而移动画布还是移动背景图案取决于 Pan drawing、Pan background 是否被选中。双击会弹出菜单，分别是：<br>Move [0,0] here    移动中心到此处<br>Mode：Drag 切换至拖动模式（相当于点击工具条上的 Drag 按钮，下同）<br>Mode：Draw M    切换至移动模式<br>Mode：Draw L    切换到画直线模式 Mode：Draw B    切换到画曲线模式<br>Mode：Delete    切换到删除模式。</td>
</tr>
</tbody></table>
</li>
<li><p>选中顶点后</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>鼠标左键</td>
<td> Drag 单击、双击均无任何操作，按住左健拖动可移动当前顶点。<br>Move    操作和空白处相同。<br>Line    按住左健拖动将会以当前顶点为起点画一条直线。<br>Bezier    与 Line 模式类似，按住左健拖动将会以当前顶点为起点画一条曲线。<br>Delete    删除当前顶点。<br>Scale/Rotate、Bilinear 均无顶点可供操作。</td>
</tr>
<tr>
<td>鼠标右键</td>
<td>单击和拖动与 “2. 空白处” 的操作相同。</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>双击：如选择的是原始顶点（即初始状态的顶点和 Move 模式创建的顶点 m 0,0），弹出的菜单只会显示当前顶点的坐标而无其它操作。如果选择的是画直线或画曲线产生的顶点，弹出的菜单则会是切换顶点的状态（即直线、曲线互换 ）。分别是：Convert to Bezier curve （B command）切换顶点为贝塞尔模式、Convert to line （L command）切换顶点为直线模式。</td>
<td></td>
</tr>
</tbody></table>
<p> 此外，如果选择的是顶点是一条曲线的终点，而这个终点又与另一条曲线的起点相连，弹出的菜单中会多出一条：Smooth connection 两个贝塞尔曲线的顶点间光滑连接。至于具体效果是什么还有待研究。</p>
</li>
<li><p>命令栏</p>
<p> 虽说是命令栏，其实可以当作状态栏来看，很多操作的结果都可实时地显示在此栏里。在输入画图代码方面，与 Aegisub 相比不用输入开始 \p1 与结束 \p0 命令。除此之外，具体操作没什么好说的。如果想分拆某个图案时，删除某段以 m 开头的坐标可以实现批量删除的效果。</p>
</li>
<li><p>图形收藏栏</p>
<p> <img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/34.jpg"></p>
<ol>
<li><p>按钮介绍</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/35.jpg"> Save canvas 添加</td>
<td align="left">将画布中的图案添加到收藏栏。</td>
</tr>
<tr>
<td align="left"><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/36.jpg"> Select all 全选</td>
<td align="left">选中收藏栏所有的图案。</td>
</tr>
<tr>
<td align="left"><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/36.jpg"> Select none</td>
<td align="left"> 取消选择：清除选中图案单选框中的√。</td>
</tr>
<tr>
<td align="left"><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/37.jpg"> Delete selected</td>
<td align="left"> 删除当前选中的图案。注意：此过程不可逆，请小心操作。</td>
</tr>
</tbody></table>
</li>
</ol>
</li>
</ol>
<ol start="2">
<li>右键菜单介绍<img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/39.jpg"><table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">Load canvas</td>
<td align="left"> 读取图案：读取当前鼠标所指位置的图案到画布中。此项操作与当前图案是否被选中无关。在图案上双击左键也有同样效果。</td>
</tr>
<tr>
<td align="left">Copy commands to clipboard</td>
<td align="left"> 复制命令到剪贴板：直接复制该图案的画图代码到剪贴板。要比到命令栏复制更方便。</td>
</tr>
<tr>
<td align="left">Save canvas here</td>
<td align="left"> 保存图案到此处：执行此项操作前必须勾选一个图案框（如果是多选，会以最后一个为准），可以是空白框或已有图案框。如果是空白框则会直接添加到此框内；而如果是已有图案框则会被覆盖。</td>
</tr>
<tr>
<td align="left">Delete from library    →    Confirm delete?</td>
<td align="left"> 确认删除？说是确认删除，其实是没有确认直接删除的。<br>具体效果为删除鼠标当前指向的图案。<br>与读取类似，此项操作也与当前图案是否被选中无关。</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id="六、设置栏"><a href="#六、设置栏" class="headerlink" title="六、设置栏"></a>六、设置栏</h3><p>这里的设置都是无关紧要的，可以不用管。具体说明请大家看图吧。</p>
<p><img src="/2020/10/31/Aegisub%20-%20%E5%A4%A7%E7%A5%9E%E4%B9%8B%E8%B7%AF/40.jpg"></p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源 </span>
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2019-2021 kysdm
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
